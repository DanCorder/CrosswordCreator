var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function i(t){let e;return r(t,(t=>e=t))(),e}function c(t,e,n){t.$$.on_destroy.push(r(e,n))}function u(t,e,n,s){if(t){const l=a(t,e,n,s);return t[0](l)}}function a(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function h(t,e,n,s){if(t[2]&&s){const l=t[2](s(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|l[s];return t}return e.dirty|l}return e.dirty}function d(t,e,n,s,l,o){if(l){const r=a(e,n,s,o);t.p(r,l)}}function f(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function C(){return b(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e){t.value=null==e?"":e}function k(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function L(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let A;function P(t){A=t}function j(t){(function(){if(!A)throw new Error("Function called outside component initialization");return A})().$$.before_update.push(t)}const T=[],W=[],O=[],E=[],S=Promise.resolve();let G=!1;function z(t){O.push(t)}let N=!1;const D=new Set;function q(){if(!N){N=!0;do{for(let t=0;t<T.length;t+=1){const e=T[t];P(e),M(e.$$)}for(P(null),T.length=0;W.length;)W.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];D.has(e)||(D.add(e),e())}O.length=0}while(T.length);for(;E.length;)E.pop()();G=!1,N=!1,D.clear()}}function M(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const F=new Set;let U;function B(){U={r:0,c:[],p:U}}function I(){U.r||s(U.c),U=U.p}function H(t,e){t&&t.i&&(F.delete(t),t.i(e))}function R(t,e,n,s){if(t&&t.o){if(F.has(t))return;F.add(t),U.c.push((()=>{F.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function K(t){t&&t.c()}function J(t,n,o,r){const{fragment:i,on_mount:c,on_destroy:u,after_update:a}=t.$$;i&&i.m(n,o),r||z((()=>{const n=c.map(e).filter(l);u?u.push(...n):s(n),t.$$.on_mount=[]})),a.forEach(z)}function Y(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,e){-1===t.$$.dirty[0]&&(T.push(t),G||(G=!0,S.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(e,l,o,r,i,c,u,a=[-1]){const h=A;P(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:l.target||h.$$.root};u&&u(d.root);let f=!1;if(d.ctx=o?o(e,l.props||{},((t,n,...s)=>{const l=s.length?s[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),f&&Q(e,t)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();l.intro&&H(e.$$.fragment),J(e,l.target,l.anchor,l.customElement),q()}P(h)}class X{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z="_";class tt{constructor(t=null){t&&(this.row=t.r,this.column=t.c,this.number=t.n,this.direction=t.d,this.letters=t.a)}toObject(){return{r:this.row,c:this.column,n:this.number,d:this.direction,a:this.letters}}matchesAnswer(t){if(this.letters.length!==t.length)return!1;let e=!0;return[...this.letters].forEach(((n,s)=>{n!==Z&&n.toLowerCase()!==t[s].toLowerCase()&&(e=!1)})),e}}class et{constructor(t=null){this.clue="",this.answer="",this.answerPosition=null,this.possiblePositions=[],t&&(this.clue=t.c,this.answer=t.a,this.answerPosition=null==t.p?null:new tt(t.p))}toObject(){return{c:this.clue,a:this.answer,p:null===this.answerPosition?null:this.answerPosition.toObject()}}get answerLength(){const t=[];return[...this.answer].forEach((e=>{" "===e?t.push(","):"-"===e?t.push("-"):0===t.length||","===t[t.length-1]||"-"===t[t.length-1]?t.push(1):t[t.length-1]=t[t.length-1]+1})),t.join("")}get strippedAnswer(){return this.answer.replaceAll(/[- ]/g,"")}}class nt{constructor(t=null){this.acrossClues=[],this.downClues=[],this.unassignedClues=[],t&&(t.a.forEach((t=>this.acrossClues.push(new et(t)))),t.d.forEach((t=>this.downClues.push(new et(t)))),t.u.forEach((t=>this.unassignedClues.push(new et(t)))))}toObject(){return{a:this.acrossClues.map((t=>t.toObject())),d:this.downClues.map((t=>t.toObject())),u:this.unassignedClues.map((t=>t.toObject()))}}assignClue(t,e){const n="a"===t.direction?this.acrossClues:this.downClues,s=n.findIndex((e=>e.answerPosition.number===t.number));if(-1!==s){const t=n[s];n.splice(s,1),t.answerPosition=null,(t.answer||t.clue)&&this.unassignedClues.push(t)}const l=this.unassignedClues.indexOf(e);this.unassignedClues.splice(l,1),e.answerPosition=t,n.push(e),this.sortClues()}deleteClue(t){const e=this.unassignedClues.indexOf(t);this.unassignedClues.splice(e,1)}syncToGrid(t){const e=t.filter((t=>"a"===t.direction)),n=t.filter((t=>"d"===t.direction)),s=[],l=[],o=[...this.unassignedClues];e.forEach((t=>this.updateClues(t,this.acrossClues,s))),o.push(...this.acrossClues),n.forEach((t=>this.updateClues(t,this.downClues,l))),o.push(...this.downClues),this.acrossClues=s,this.downClues=l,this.unassignedClues=o.filter((t=>""!==t.clue.trim()||""!==t.answer.trim())),this.unassignedClues.forEach((e=>{e.answerPosition=null,e.possiblePositions=this.findPossiblePositions(e.strippedAnswer,t)})),this.sortClues()}findPossiblePositions(t,e){const n=[];return e.forEach((e=>{e.matchesAnswer(t)&&n.push({direction:e.direction,number:e.number})})),n}updateClues(t,e,n){const s=e.findIndex((e=>this.isMatch(t,e)));let l;l=-1===s?new et:e.splice(s,1)[0],l.answerPosition=t,n.push(l)}isMatch(t,e){return t.column===e.answerPosition.column&&t.row===e.answerPosition.row&&(""===e.answer.trim()||t.matchesAnswer(e.strippedAnswer))}sortClues(){this.acrossClues=this.acrossClues.sort(((t,e)=>t.answerPosition.number-e.answerPosition.number)),this.downClues=this.downClues.sort(((t,e)=>t.answerPosition.number-e.answerPosition.number))}}class st{constructor(t=null){this.isWhite=!0,this.cellNumber=null,this.answerLetter="",t&&(this.isWhite=t.w,this.cellNumber=t.n,this.answerLetter=t.l)}toObject(){return{w:this.isWhite,n:this.cellNumber,l:this.answerLetter}}}class lt{constructor(t=null){this.cells=[],t?(t.forEach((t=>{const e=[];t.forEach((t=>e.push(new st(t)))),this.cells.push(e)})),this.findAnswers()):(this.resizeGrid(11),this.numberCells())}get size(){return this.cells.length}toObject(){return this.cells.map((t=>t.map((t=>t.toObject()))))}toggleCell(t,e){return this.cells[t][e].isWhite=!this.cells[t][e].isWhite,this.numberCells(),this}setCellLetter(t,e,n){if(n.length>1)throw"Can't put more than one letter in a cell";if(!this.cells[t][e].isWhite)throw"Can't set a letter on a black square";return this.cells[t][e].answerLetter=n,this}sizeGrid(t){return this.resizeGrid(t),this.numberCells(),this}setLetters(t,e,n,s){const l="a"===n?(t,e)=>({row:t,column:e+1}):(t,e)=>({row:t+1,column:e});let o={row:t,column:e};return[...s.toUpperCase()].forEach((t=>{this.cells[o.row][o.column].answerLetter=t,o=l(o.row,o.column)})),this}resizeGrid(t){const e=this.cells,n=e.length;if(n===t)return this;if(n<t)for(let s=0;s<t;s++){const l=s>=n,o=l?[]:e[s];for(let e=l?0:n;e<t;e++)o.push(new st);l&&this.cells.push(o)}else{e.splice(t,n-t);for(let s=0;s<t;s++)e[s].splice(t,n-t)}}findAnswers(){const t=this.cells,e=t.length,n=[];for(let s=0;s<e;s++)for(let l=0;l<e;l++){const o=t[s][l];if(o.cellNumber){if(l<e-1&&t[s][l+1].isWhite&&(0===l||!t[s][l-1].isWhite)){let r=o.answerLetter?o.answerLetter:Z;for(let n=l+1;n<e;n++){const e=t[s][n];if(!e.isWhite)break;e.answerLetter?r+=e.answerLetter:r+=Z}const i=new tt;i.row=s,i.column=l,i.number=o.cellNumber,i.direction="a",i.letters=r,n.push(i)}if(s<e-1&&t[s+1][l].isWhite&&(0===s||!t[s-1][l].isWhite)){let r=o.answerLetter?o.answerLetter:Z;for(let n=s+1;n<e;n++){const e=t[n][l];if(!e.isWhite)break;e.answerLetter?r+=e.answerLetter:r+=Z}const i=new tt;i.row=s,i.column=l,i.number=o.cellNumber,i.direction="d",i.letters=r,n.push(i)}}}return n}numberCells(){const t=this.cells,e=t.length;let n=1;for(let s=0;s<e;s++)for(let l=0;l<e;l++)t[s][l].isWhite?(0!==s&&t[s-1][l].isWhite||s===e-1||!t[s+1][l].isWhite)&&(0!==l&&t[s][l-1].isWhite||l===e-1||!t[s][l+1].isWhite)?t[s][l].cellNumber=null:(t[s][l].cellNumber=n,n++):t[s][l].cellNumber=null}}class ot{constructor(t=null){this.grid=new lt,this.clues=new nt,t?(this.clues=new nt(t.clues),this.grid=new lt(t.grid),this.clues.syncToGrid(this.grid.findAnswers())):this.syncCluesAndGrid()}serialize(){return JSON.stringify(this.toObject())}assignClue(t,e){const n=this.grid.findAnswers().find((e=>e.direction===t.direction&&e.number===t.number));return this.clues.assignClue(n,e),this}deleteClue(t){return this.clues.deleteClue(t),this}refresh(){return this.syncCluesAndGrid(),this}toggleCell(t,e){return this.grid.toggleCell(t,e),this.syncCluesAndGrid(),this}setCellLetter(t,e,n){return this.grid.setCellLetter(t,e,n),this.syncCluesAndGrid(),this}sizeGrid(t){return this.grid.sizeGrid(t),this.syncCluesAndGrid(),this}setGridLetters(t,e,n,s){return this.grid.setLetters(t,e,n,s),this.syncCluesAndGrid(),this}setClueText(t,e,n){return("a"===e?this.clues.acrossClues:this.clues.downClues).find((e=>e.answerPosition.number===t)).clue=n,this}setAnswerText(t,e,n){return("a"===e?this.clues.acrossClues:this.clues.downClues).find((e=>e.answerPosition.number===t)).answer=n,this.syncCluesAndGrid(),this}syncCluesAndGrid(){return this.clues.syncToGrid(this.grid.findAnswers()),this}toObject(){return{clues:this.clues.toObject(),grid:this.grid.toObject()}}}const rt=[];function it(e,n=t){let s;const l=new Set;function r(t){if(o(e,t)&&(e=t,s)){const t=!rt.length;for(const t of l)t[1](),rt.push(t,e);if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,i=t){const c=[o,i];return l.add(c),1===l.size&&(s=n(r)||t),o(e),()=>{l.delete(c),0===l.size&&(s(),s=null)}}}}const ct=function(){const{subscribe:t,set:e,update:n}=it(new ot);return{subscribe:t,set:e,assignClue:(t,e)=>n((n=>n.assignClue(t,e))),deleteClue:t=>n((e=>e.deleteClue(t))),refresh:()=>n((t=>t.refresh())),setGridLetters:(t,e,s,l)=>n((n=>n.setGridLetters(t,e,s,l))),toggleCell:(t,e)=>n((n=>n.toggleCell(t,e))),setCellLetter:(t,e,s)=>n((n=>n.setCellLetter(t,e,s))),sizeGrid:t=>n((e=>e.sizeGrid(t)))}}();function ut(){const t={version:1,crosswordState:i(ct).toObject()},e=JSON.stringify(t);return{filename:"crossword.json",fileData:new Blob([e],{type:"application/json;charset=utf-8;"})}}const at=t=>({}),ht=t=>({}),dt=t=>({}),ft=t=>({});function pt(t){let e,n,s,l,o,r,i;const c=t[3].content,a=u(c,t,t[2],ht),w=a||function(t){let e;return{c(){e=b("Hello World!")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}();return{c(){e=v("div"),n=v("div"),s=v("p"),s.textContent="Close",l=C(),w&&w.c(),_(s,"class","link close svelte-1phkiln"),_(n,"class","content-block svelte-1phkiln"),_(e,"class","overlay svelte-1phkiln")},m(c,u){g(c,e,u),p(e,n),p(n,s),p(n,l),w&&w.m(n,null),o=!0,r||(i=$(s,"click",t[1]),r=!0)},p(t,e){a&&a.p&&(!o||4&e)&&d(a,c,t,t[2],o?h(c,t[2],e,at):f(t[2]),ht)},i(t){o||(H(w,t),o=!0)},o(t){R(w,t),o=!1},d(t){t&&m(e),w&&w.d(t),r=!1,i()}}}function gt(t){let e,n,s,l,o,r;const i=t[3].linkText,c=u(i,t,t[2],ft),a=c||function(t){let e;return{c(){e=b("Open")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}();let p=t[0]&&pt(t);return{c(){e=v("span"),a&&a.c(),n=C(),p&&p.c(),s=b(""),_(e,"class","link")},m(i,c){g(i,e,c),a&&a.m(e,null),g(i,n,c),p&&p.m(i,c),g(i,s,c),l=!0,o||(r=$(e,"click",t[1]),o=!0)},p(t,[e]){c&&c.p&&(!l||4&e)&&d(c,i,t,t[2],l?h(i,t[2],e,dt):f(t[2]),ft),t[0]?p?(p.p(t,e),1&e&&H(p,1)):(p=pt(t),p.c(),H(p,1),p.m(s.parentNode,s)):p&&(B(),R(p,1,1,(()=>{p=null})),I())},i(t){l||(H(a,t),H(p),l=!0)},o(t){R(a,t),R(p),l=!1},d(t){t&&m(e),a&&a.d(t),t&&m(n),p&&p.d(t),t&&m(s),o=!1,r()}}}function mt(t,e,n){let{$$slots:s={},$$scope:l}=e,o=!1;return t.$$set=t=>{"$$scope"in t&&n(2,l=t.$$scope)},[o,function(){n(0,o=!o)},l,s]}class wt extends X{constructor(t){super(),V(this,t,mt,gt,o,{})}}function vt(t){let e;return{c(){e=v("span"),e.textContent="Credits",_(e,"slot","linkText")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function bt(t){let e;return{c(){e=v("span"),e.innerHTML='<h2>Credits/Copyright</h2> \n\n        <div class="content-section"><h3>This Website</h3> \n            <p>This website was created by Dan Corder. <a href="https://github.com/DanCorder/CrosswordCreator/" target="_blank">The source</a> is available under the <a href="https://github.com/DanCorder/CrosswordCreator/blob/main/LICENSE.txt" target="_blank">GPL3 licence</a> on Github so you can run your own version or make customisations.</p></div> \n\n        <div class="content-section"><h3>Word List</h3> \n            <p>The word list used by this site comes from <a href="http://app.aspell.net/create" target="_blank">http://app.aspell.net/create</a> and has the following notice:</p> \n            <pre>Copyright 2000-2019 by Kevin Atkinson\n\n    Permission to use, copy, modify, distribute and sell these word\n    lists, the associated scripts, the output created from the scripts,\n    and its documentation for any purpose is hereby granted without fee,\n    provided that the above copyright notice appears in all copies and\n    that both that copyright notice and this permission notice appear in\n    supporting documentation. Kevin Atkinson makes no representations\n    about the suitability of this array for any purpose. It is provided\n    &quot;as is&quot; without express or implied warranty.\n\n    Copyright (c) J Ross Beresford 1993-1999. All Rights Reserved.\n\n    The following restriction is placed on the use of this publication:\n    if The UK Advanced Cryptics Dictionary is used in a software package\n    or redistributed in any form, the copyright notice must be\n    prominently displayed and the text of this document must be included\n    verbatim.\n\n    There are no other restrictions: I would like to see the list\n    distributed as widely as possible.\n\n    Special credit also goes to Alan Beale &lt;biljir@pobox.com&gt; as he has\n    given me an incredible amount of feedback and created a number of\n    special lists (those found in the Supplement) in order to help improve\n    the overall quality of SCOWL.\n\n    Many sources were used in the creation of SCOWL, most of them were in\n    the public domain or used indirectly.  For a full list please see the\n    SCOWL readme.\n\n    <a href="http://wordlist.aspell.net/" target="_blank">http://wordlist.aspell.net/</a></pre></div>',_(e,"slot","content")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function Ct(t){let e,n;return e=new wt({props:{$$slots:{content:[bt],linkText:[vt]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}class $t extends X{constructor(t){super(),V(this,t,null,Ct,o,{})}}function _t(t,e,n){const s=t.slice();return s[15]=e[n],s[16]=e,s[17]=n,s}function yt(t,e,n){const s=t.slice();return s[18]=e[n],s[19]=e,s[20]=n,s}function xt(t){let e,n,s,l,o=(t[18].cellNumber??"")+"",r=!t[1]&&kt(t);return{c(){e=v("div"),n=v("div"),s=b(o),l=C(),r&&r.c(),_(n,"class","cell-number svelte-1un5x5t"),_(e,"class","cell-layout svelte-1un5x5t")},m(t,o){g(t,e,o),p(e,n),p(n,s),p(e,l),r&&r.m(e,null)},p(t,n){1&n&&o!==(o=(t[18].cellNumber??"")+"")&&y(s,o),t[1]?r&&(r.d(1),r=null):r?r.p(t,n):(r=kt(t),r.c(),r.m(e,null))},d(t){t&&m(e),r&&r.d()}}}function kt(t){let e,n,s=t[18].answerLetter+"";return{c(){e=v("div"),n=b(s),_(e,"class","cell-letter svelte-1un5x5t")},m(t,s){g(t,e,s),p(e,n)},p(t,e){1&e&&s!==(s=t[18].answerLetter+"")&&y(n,s)},d(t){t&&m(e)}}}function Lt(t){let e,n,l,o,r=t[17],i=t[20],c=t[18].isWhite&&xt(t);function u(){return t[9](t[17],t[20])}function a(...e){return t[10](t[17],t[20],...e)}const h=()=>t[11](e,r,i),d=()=>t[11](null,r,i);return{c(){e=v("td"),c&&c.c(),_(e,"tabindex","0"),_(e,"class",n="cell "+(t[18].isWhite?"white":"black")+" svelte-1un5x5t")},m(t,n){g(t,e,n),c&&c.m(e,null),h(),l||(o=[$(e,"focus",u),$(e,"keydown",a)],l=!0)},p(s,l){(t=s)[18].isWhite?c?c.p(t,l):(c=xt(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),1&l&&n!==(n="cell "+(t[18].isWhite?"white":"black")+" svelte-1un5x5t")&&_(e,"class",n),r===t[17]&&i===t[20]||(d(),r=t[17],i=t[20],h())},d(t){t&&m(e),c&&c.d(),d(),l=!1,s(o)}}}function At(t){let e,n,s=t[15],l=[];for(let e=0;e<s.length;e+=1)l[e]=Lt(yt(t,s,e));return{c(){e=v("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=C()},m(t,s){g(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);p(e,n)},p(t,o){if(55&o){let r;for(s=t[15],r=0;r<s.length;r+=1){const i=yt(t,s,r);l[r]?l[r].p(i,o):(l[r]=Lt(i),l[r].c(),l[r].m(e,n))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(t){t&&m(e),w(l,t)}}}function Pt(e){let n,l,o,r,i,c,u,a,h,d,f,y,x,L,A,P,j,T,W,O,E,S,G,N,D,q,M,F,U,B=e[0].cells,I=[];for(let t=0;t<B.length;t+=1)I[t]=At(_t(e,B,t));return{c(){n=v("div"),l=v("p"),o=v("span"),r=b("Size: "),i=v("select"),c=v("option"),c.textContent="1",u=v("option"),u.textContent="2",a=v("option"),a.textContent="3",h=v("option"),h.textContent="4",d=v("option"),d.textContent="5",f=v("option"),f.textContent="6",y=v("option"),y.textContent="7",x=v("option"),x.textContent="8",L=v("option"),L.textContent="9",A=v("option"),A.textContent="10",P=v("option"),P.textContent="11",j=v("option"),j.textContent="12",T=v("option"),T.textContent="13",W=v("option"),W.textContent="14",O=v("option"),O.textContent="15",E=C(),S=v("span"),G=b("Hide answers: "),N=v("input"),D=C(),q=v("table"),M=v("tbody");for(let t=0;t<I.length;t+=1)I[t].c();c.__value=1,c.value=c.__value,u.__value=2,u.value=u.__value,a.__value=3,a.value=a.__value,h.__value=4,h.value=h.__value,d.__value=5,d.value=d.__value,f.__value=6,f.value=f.__value,y.__value=7,y.value=y.__value,x.__value=8,x.value=x.__value,L.__value=9,L.value=L.__value,A.__value=10,A.value=A.__value,P.__value=11,P.value=P.__value,j.__value=12,j.value=j.__value,T.__value=13,T.value=T.__value,W.__value=14,W.value=W.__value,O.__value=15,O.value=O.__value,void 0===e[3]&&z((()=>e[7].call(i))),_(o,"class","grid-setting svelte-1un5x5t"),_(N,"type","checkbox"),_(S,"class","grid-setting svelte-1un5x5t"),_(l,"class","dont-print"),_(q,"class","grid svelte-1un5x5t")},m(t,s){g(t,n,s),p(n,l),p(l,o),p(o,r),p(o,i),p(i,c),p(i,u),p(i,a),p(i,h),p(i,d),p(i,f),p(i,y),p(i,x),p(i,L),p(i,A),p(i,P),p(i,j),p(i,T),p(i,W),p(i,O),k(i,e[3]),p(l,E),p(l,S),p(S,G),p(S,N),N.checked=e[1],p(n,D),p(n,q),p(q,M);for(let t=0;t<I.length;t+=1)I[t].m(M,null);F||(U=[$(i,"change",e[7]),$(i,"change",e[6]),$(N,"change",e[8])],F=!0)},p(t,[e]){if(8&e&&k(i,t[3]),2&e&&(N.checked=t[1]),55&e){let n;for(B=t[0].cells,n=0;n<B.length;n+=1){const s=_t(t,B,n);I[n]?I[n].p(s,e):(I[n]=At(s),I[n].c(),I[n].m(M,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=B.length}},i:t,o:t,d(t){t&&m(n),w(I,t),F=!1,s(U)}}}function jt(t,e,n){let s,{state:l}=e,o=!1,r=null,i=null,c=[];function u(t,e){r=t,i=e}function a(t,e,n){if(!n.metaKey&&!n.ctrlKey){switch(n.preventDefault(),n.key){case" ":ct.toggleCell(t,e);break;case"Backspace":case"Delete":ct.setCellLetter(t,e,"");break;case"ArrowUp":r=Math.max(0,r-1);break;case"ArrowDown":r=Math.min(l.size-1,r+1);break;case"ArrowLeft":i=Math.max(0,i-1);break;case"ArrowRight":i=Math.min(l.size-1,i+1);break;default:n.key.match(/^[a-z]$/i)&&ct.setCellLetter(t,e,n.key.toUpperCase())}c[r][i].focus()}}j((()=>{s!==c.length&&function(){for(let t=0;t<l.size;t++)c.push([])}()}));return t.$$set=t=>{"state"in t&&n(0,l=t.state)},t.$$.update=()=>{1&t.$$.dirty&&n(3,s=l.size)},[l,o,c,s,u,a,function(){ct.sizeGrid(s),r=Math.min(r,s-1),i=Math.min(i,s-1)},function(){s=L(this),n(3,s),n(0,l)},function(){o=this.checked,n(1,o)},(t,e)=>u(t,e),(t,e,n)=>a(t,e,n),function(t,e,s){W[t?"unshift":"push"]((()=>{c[e][s]=t,n(2,c)}))}]}class Tt extends X{constructor(t){super(),V(this,t,jt,Pt,o,{state:0})}}const Wt=function(){let t=it(null);return fetch("assets/js/processedWordList.json").then((t=>t.json())).then((e=>{t.set(e)})),t}();class Ot{constructor(){this.matches=[]}findMatchingWords(t){if(this.matches=[],""===this.pattern)return this;const e=t[this.pattern.length],n=new RegExp(this.pattern.toLowerCase().replaceAll(".","\\w").replaceAll(" ","\\w"));return Object.keys(e).forEach((t=>{n.test(t)&&(this.matches=this.matches.concat(e[t]))})),this}}const Et=function(){const{subscribe:t,set:e,update:n}=it(new Ot);let s;return Wt.subscribe((t=>s=t)),{subscribe:t,set:e,findWords:()=>n((t=>t.findMatchingWords(s)))}}();function St(e){let n,s,l,o;return{c(){n=v("div"),s=v("a"),l=b(e[0]),_(s,"href",o=""+(Gt+e[0])),_(s,"target","_blank"),_(n,"class","svelte-2buty2")},m(t,e){g(t,n,e),p(n,s),p(s,l)},p(t,[e]){1&e&&y(l,t[0]),1&e&&o!==(o=""+(Gt+t[0]))&&_(s,"href",o)},i:t,o:t,d(t){t&&m(n)}}}const Gt="https://www.dictionary.com/browse/";function zt(t,e,n){let{result:s}=e;return t.$$set=t=>{"result"in t&&n(0,s=t.result)},[s]}class Nt extends X{constructor(t){super(),V(this,t,zt,St,o,{result:0})}}function Dt(t,e,n){const s=t.slice();return s[4]=e[n],s}function qt(t){let e;return{c(){e=v("div"),e.textContent="No results",_(e,"class","no-results svelte-1oly632")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function Mt(t){let e,n;return e=new Nt({props:{result:t[4]}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.result=t[4]),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Ft(t){let e,n,l,o,r,i,c,u,a,h,d,f,b,_=t[0].matches,y=[];for(let e=0;e<_.length;e+=1)y[e]=Mt(Dt(t,_,e));const k=t=>R(y[t],1,1,(()=>{y[t]=null}));let L=null;return _.length||(L=qt()),{c(){e=v("div"),n=v("h2"),n.textContent="Find Words That Fit",l=C(),o=v("p"),o.textContent="Enter the pattern to match below. Use letters where you have them and '.' or space for empty spaces",r=C(),i=v("input"),c=C(),u=v("button"),u.textContent="Search",a=C(),h=v("div");for(let t=0;t<y.length;t+=1)y[t].c();L&&L.c()},m(s,m){g(s,e,m),p(e,n),p(e,l),p(e,o),p(e,r),p(e,i),x(i,t[0].pattern),p(e,c),p(e,u),p(e,a),p(e,h);for(let t=0;t<y.length;t+=1)y[t].m(h,null);L&&L.m(h,null),d=!0,f||(b=[$(i,"input",t[3]),$(i,"keydown",t[2]),$(u,"click",t[1])],f=!0)},p(t,[e]){if(1&e&&i.value!==t[0].pattern&&x(i,t[0].pattern),1&e){let n;for(_=t[0].matches,n=0;n<_.length;n+=1){const s=Dt(t,_,n);y[n]?(y[n].p(s,e),H(y[n],1)):(y[n]=Mt(s),y[n].c(),H(y[n],1),y[n].m(h,null))}for(B(),n=_.length;n<y.length;n+=1)k(n);I(),_.length?L&&(L.d(1),L=null):L||(L=qt(),L.c(),L.m(h,null))}},i(t){if(!d){for(let t=0;t<_.length;t+=1)H(y[t]);d=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)R(y[t]);d=!1},d(t){t&&m(e),w(y,t),L&&L.d(),f=!1,s(b)}}}function Ut(t,e,n){let s;function l(){Et.findWords()}return c(t,Et,(t=>n(0,s=t))),[s,l,function(t){"Enter"===t.key&&l()},function(){s.pattern=this.value,Et.set(s)}]}class Bt extends X{constructor(t){super(),V(this,t,Ut,Ft,o,{})}}class It{}function Ht(t,e,n=3,s=[],l=[],o=1e3,r=!0){let i;try{i=function(t,e){let n=t;for(const t of e)for(const e of t){const t=n.indexOf(e);if(-1===t)throw"Error! qq";n=n.slice(0,t)+n.slice(t+1)}return n}(t,l)}catch(t){return alert("Included words are not an anagram of input word"),[]}if(""===i)return alert("No letters left to anagram!"),[];const c=Kt(i),u=[];for(const i of function*(t){for(let e of function*(t){let e=[],n=[];for(let s=0;s<t;s++)e.push(0),n.push(1);const s=t-1;for(;;)if(yield e,e[s]===n[s]){let l=s-1;for(;e[l]===n[l];)l--;if(0===l)return;e[l]+=1;const o=n[l]+(e[l]===n[l]?1:0);for(l++;l<t;l++)e[l]=0,n[l]=o}else e[s]+=1}(t.length)){const n=[];for(let s=0;s<t.length;s++){const l=e[s];void 0===n[l]&&(n[l]=""),n[l]+=t[s]}yield n}}(c)){if(!i.every((t=>t.length>=n)))continue;let c=[],a=!0;for(let n=0;n<i.length;n++){const l=i[n];if(r&&1===l.length&&"a"!==l[0]&&"i"!==l[0]){a=!1;break}const o=e[l.length].find((t=>t.letters===l));if(void 0===o){a=!1;break}const u=o.words.filter((e=>e!==t&&-1===s.indexOf(e)));if(0===u.length){a=!1;break}c.push(u)}if(a){for(const t of l)c=c.concat([[t]]);c.sort(Rt);let t=!1;for(let e=0;e<u.length;e++){const n=u[e];if(n.length!==c.length)continue;let s=!0;for(let t=0;t<n.length;t++)if(n[t][0]!==c[t][0]){s=!1;break}if(s){t=!0;break}}t||u.push(c)}if(u.length>=o)break}return u}function Rt(t,e){return e[0].length!==t[0].length?e[0].length-t[0].length:e[0]>t[0]?-1:1}function Kt(t){return t.split("").sort().join("")}function Jt(t,e,n){const s=t.slice();return s[1]=e[n],s}function Yt(t,e,n){const s=t.slice();return s[4]=e[n],s}function Qt(t){let e,n,s,l,o=t[4]+"";return{c(){e=v("li"),n=v("a"),s=b(o),_(n,"href",l=""+(Zt+t[4])),_(n,"target","_blank")},m(t,l){g(t,e,l),p(e,n),p(n,s)},p(t,e){1&e&&o!==(o=t[4]+"")&&y(s,o),1&e&&l!==(l=""+(Zt+t[4]))&&_(n,"href",l)},d(t){t&&m(e)}}}function Vt(t){let e,n,s=t[1],l=[];for(let e=0;e<s.length;e+=1)l[e]=Qt(Yt(t,s,e));return{c(){e=v("ul");for(let t=0;t<l.length;t+=1)l[t].c();n=C(),_(e,"class","svelte-1dbsdx5")},m(t,s){g(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);p(e,n)},p(t,o){if(1&o){let r;for(s=t[1],r=0;r<s.length;r+=1){const i=Yt(t,s,r);l[r]?l[r].p(i,o):(l[r]=Qt(i),l[r].c(),l[r].m(e,n))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(t){t&&m(e),w(l,t)}}}function Xt(e){let n,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=Vt(Jt(e,s,t));return{c(){n=v("div");for(let t=0;t<l.length;t+=1)l[t].c();_(n,"class","content-section svelte-1dbsdx5")},m(t,e){g(t,n,e);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,[e]){if(1&e){let o;for(s=t[0],o=0;o<s.length;o+=1){const r=Jt(t,s,o);l[o]?l[o].p(r,e):(l[o]=Vt(r),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},i:t,o:t,d(t){t&&m(n),w(l,t)}}}const Zt="https://www.dictionary.com/browse/";function te(t,e,n){let{result:s}=e;return t.$$set=t=>{"result"in t&&n(0,s=t.result)},[s]}class ee extends X{constructor(t){super(),V(this,t,te,Xt,o,{result:0})}}function ne(t,e,n){const s=t.slice();return s[15]=e[n],s}function se(t){let e;return{c(){e=v("div"),e.textContent="No results",_(e,"class","no-results svelte-1oly632")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function le(t){let e,n;return e=new ee({props:{result:t[15]}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,n){const s={};4&n&&(s.result=t[15]),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function oe(t){let e,n,l,o,r,i,c,u,a,h,d,f,y,L,A,P,j,T,W,O,E,S,G,N,D,q,M,F,U,K,J,Y,Q,V,X,Z,tt,et,nt,st,lt,ot,rt=t[2],it=[];for(let e=0;e<rt.length;e+=1)it[e]=le(ne(t,rt,e));const ct=t=>R(it[t],1,1,(()=>{it[t]=null}));let ut=null;return rt.length||(ut=se()),{c(){e=v("div"),n=v("h2"),n.textContent="Find Anagrams",l=C(),o=v("p"),r=v("input"),i=b("\n        Minimum word length\n        "),c=v("select"),u=v("option"),u.textContent="2",a=v("option"),a.textContent="3",h=v("option"),h.textContent="4",d=v("option"),d.textContent="5",f=v("option"),f.textContent="6",y=v("option"),y.textContent="7",L=v("option"),L.textContent="8",A=v("option"),A.textContent="9",P=v("option"),P.textContent="10",j=v("option"),j.textContent="11",T=v("option"),T.textContent="12",W=v("option"),W.textContent="13",O=v("option"),O.textContent="14",E=v("option"),E.textContent="15",S=C(),G=v("p"),N=v("button"),N.textContent="Find single words",D=b(" Find all single word anagrams within the input, not necessarily using all letters"),q=C(),M=v("p"),F=v("button"),F.textContent="Find full anagrams",U=b(" Find full multi-word anagrams (up to 1000 results)"),K=C(),J=v("p"),Y=v("textarea"),Q=b(" Excluded words (one per line)"),V=C(),X=v("p"),Z=v("textarea"),tt=b(" Included words (one per line)"),et=C(),nt=v("div");for(let t=0;t<it.length;t+=1)it[t].c();ut&&ut.c(),u.__value=2,u.value=u.__value,a.__value=3,a.value=a.__value,h.__value=4,h.value=h.__value,d.__value=5,d.value=d.__value,f.__value=6,f.value=f.__value,y.__value=7,y.value=y.__value,L.__value=8,L.value=L.__value,A.__value=9,A.value=A.__value,P.__value=10,P.value=P.__value,j.__value=11,j.value=j.__value,T.__value=12,T.value=T.__value,W.__value=13,W.value=W.__value,O.__value=14,O.value=O.__value,E.__value=15,E.value=E.__value,void 0===t[4]&&z((()=>t[9].call(c))),_(e,"class","content-block")},m(s,m){g(s,e,m),p(e,n),p(e,l),p(e,o),p(o,r),x(r,t[3]),p(o,i),p(o,c),p(c,u),p(c,a),p(c,h),p(c,d),p(c,f),p(c,y),p(c,L),p(c,A),p(c,P),p(c,j),p(c,T),p(c,W),p(c,O),p(c,E),k(c,t[4]),p(e,S),p(e,G),p(G,N),p(G,D),p(e,q),p(e,M),p(M,F),p(M,U),p(e,K),p(e,J),p(J,Y),x(Y,t[0]),p(J,Q),p(e,V),p(e,X),p(X,Z),x(Z,t[1]),p(X,tt),p(e,et),p(e,nt);for(let t=0;t<it.length;t+=1)it[t].m(nt,null);ut&&ut.m(nt,null),st=!0,lt||(ot=[$(r,"input",t[8]),$(r,"keydown",t[7]),$(c,"change",t[9]),$(N,"click",t[5]),$(F,"click",t[6]),$(Y,"input",t[10]),$(Z,"input",t[11])],lt=!0)},p(t,[e]){if(8&e&&r.value!==t[3]&&x(r,t[3]),16&e&&k(c,t[4]),1&e&&x(Y,t[0]),2&e&&x(Z,t[1]),4&e){let n;for(rt=t[2],n=0;n<rt.length;n+=1){const s=ne(t,rt,n);it[n]?(it[n].p(s,e),H(it[n],1)):(it[n]=le(s),it[n].c(),H(it[n],1),it[n].m(nt,null))}for(B(),n=rt.length;n<it.length;n+=1)ct(n);I(),rt.length?ut&&(ut.d(1),ut=null):ut||(ut=se(),ut.c(),ut.m(nt,null))}},i(t){if(!st){for(let t=0;t<rt.length;t+=1)H(it[t]);st=!0}},o(t){it=it.filter(Boolean);for(let t=0;t<it.length;t+=1)R(it[t]);st=!1},d(t){t&&m(e),w(it,t),ut&&ut.d(),lt=!1,s(ot)}}}function re(t,e,n){let s=null;Wt.subscribe((t=>s=function(t){const e=new It;if(null===t)return e;for(let n=1;n<=15;n++){const s=t[n],l={};Object.keys(s).forEach((t=>{const e=Kt(t);l.hasOwnProperty(e)||(l[e]=[]),l[e].push(t)})),e[n]=Object.entries(l).sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})).map((t=>({letters:t[0],words:t[1].sort()})))}return e}(t)));let l,o,r=[],i="",c=3,u="",a="";function h(){s||alert("Word list not downloaded yet, please try again"),n(2,r=Ht(i,s,c,l,o))}return t.$$.update=()=>{1&t.$$.dirty&&(l=u.split("\n").filter((t=>""!==t))),2&t.$$.dirty&&(o=a.split("\n").filter((t=>""!==t)))},[u,a,r,i,c,function(){s||alert("Word list not downloaded yet, please try again"),n(2,r=function(t,e,n=3,s=[]){const l=Kt(t);let o=[];for(let t of function*(t){for(let e=1;e<1<<t.length;e++){let n="";for(let s=0;s<t.length;s++)e&1<<s&&(n+=t[s]);yield n}}(l)){if(t.length<n)continue;const s=e[t.length].find((e=>e.letters===t));void 0!==s&&(o=o.concat(s.words))}return o=[...new Set(o)],o.filter((e=>e!==t&&-1===s.indexOf(e))).map((t=>[[t]]))}(i,s,c,l))},h,function(t){"Enter"===t.key&&h()},function(){i=this.value,n(3,i)},function(){c=L(this),n(4,c)},function(){u=this.value,n(0,u)},function(){a=this.value,n(1,a)}]}class ie extends X{constructor(t){super(),V(this,t,re,oe,o,{})}}function ce(e){let n,s,l;return{c(){n=v("button"),n.textContent="Add to grid"},m(t,o){g(t,n,o),s||(l=$(n,"click",e[4]),s=!0)},p:t,d(t){t&&m(n),s=!1,l()}}}function ue(e){let n,s,l;return{c(){n=v("button"),n.textContent="Find possibilities"},m(t,o){g(t,n,o),s||(l=$(n,"click",e[5]),s=!0)},p:t,d(t){t&&m(n),s=!1,l()}}}function ae(e){let n,l,o,r,i,c,u,a,h,d,f,w,k,L,A,P,j,T,W,O=e[0].answerPosition.number+"",E=he(e[0]),S=e[0].answerPosition.letters+"",G=e[0].answerPosition.letters.split("").some(de)&&e[0].answerPosition.letters.split("").some(fe),z=E&&ce(e),N=G&&ue(e);return{c(){n=v("div"),l=v("div"),o=b(O),r=C(),i=v("textarea"),c=C(),u=v("div"),a=v("label"),h=b("Answer: "),d=v("input"),f=C(),z&&z.c(),w=C(),k=v("div"),L=v("span"),A=b("Grid letters: "),P=b(S),j=C(),N&&N.c(),_(i,"class","svelte-ahn0jc"),_(l,"class","clue-row svelte-ahn0jc"),_(d,"class","svelte-ahn0jc"),_(u,"class","clue-row svelte-ahn0jc"),_(k,"class","clue-row svelte-ahn0jc"),_(n,"class","clue-container content-section svelte-ahn0jc")},m(t,s){g(t,n,s),p(n,l),p(l,o),p(l,r),p(l,i),x(i,e[0].clue),p(n,c),p(n,u),p(u,a),p(a,h),p(a,d),x(d,e[0].answer),p(u,f),z&&z.m(u,null),p(n,w),p(n,k),p(k,L),p(L,A),p(L,P),p(k,j),N&&N.m(k,null),T||(W=[$(i,"input",e[2]),$(i,"blur",ct.refresh),$(d,"input",e[3]),$(d,"blur",ct.refresh)],T=!0)},p(t,[e]){1&e&&O!==(O=t[0].answerPosition.number+"")&&y(o,O),1&e&&x(i,t[0].clue),1&e&&d.value!==t[0].answer&&x(d,t[0].answer),1&e&&(E=he(t[0])),E?z?z.p(t,e):(z=ce(t),z.c(),z.m(u,null)):z&&(z.d(1),z=null),1&e&&S!==(S=t[0].answerPosition.letters+"")&&y(P,S),1&e&&(G=t[0].answerPosition.letters.split("").some(de)&&t[0].answerPosition.letters.split("").some(fe)),G?N?N.p(t,e):(N=ue(t),N.c(),N.m(k,null)):N&&(N.d(1),N=null)},i:t,o:t,d(t){t&&m(n),z&&z.d(),N&&N.d(),T=!1,s(W)}}}function he(t){return t.answerPosition.letters.toLowerCase()!==t.strippedAnswer.toLowerCase()&&t.answerPosition.matchesAnswer(t.strippedAnswer)}const de=t=>"_"===t,fe=t=>"_"!==t;function pe(t,e,n){let s;c(t,Et,(t=>n(1,s=t)));let{state:l}=e;return t.$$set=t=>{"state"in t&&n(0,l=t.state)},[l,s,function(){l.clue=this.value,n(0,l)},function(){l.answer=this.value,n(0,l)},()=>ct.setGridLetters(l.answerPosition.row,l.answerPosition.column,l.answerPosition.direction,l.strippedAnswer),()=>{var t,e;t=Et,s.pattern=l.answerPosition.letters.replaceAll(Z,"."),e=s,t.set(e),Et.findWords()}]}class ge extends X{constructor(t){super(),V(this,t,pe,ae,o,{state:0})}}function me(t,e,n){const s=t.slice();return s[7]=e[n],s}function we(t){let e,n,s,l,o,r=t[7].number+"",i="a"===t[7].direction?"across":"down";return{c(){e=v("option"),n=b(r),s=C(),l=b(i),e.__value=o=t[7],e.value=e.__value},m(t,o){g(t,e,o),p(e,n),p(e,s),p(e,l)},p(t,s){1&s&&r!==(r=t[7].number+"")&&y(n,r),1&s&&i!==(i="a"===t[7].direction?"across":"down")&&y(l,i),1&s&&o!==(o=t[7])&&(e.__value=o,e.value=e.__value)},d(t){t&&m(e)}}}function ve(e){let n,l,o,r,i,c,u,a,h,d,f,y,L,A,P,j,T,W,O,E=e[0].possiblePositions,S=[];for(let t=0;t<E.length;t+=1)S[t]=we(me(e,E,t));return{c(){n=v("div"),l=v("div"),o=b("? "),r=v("textarea"),i=C(),c=v("div"),u=v("label"),a=b("Answer: "),h=v("input"),d=C(),f=v("div"),y=v("span"),L=b("Assign to:\n            "),A=v("select"),P=v("option"),P.textContent="--------";for(let t=0;t<S.length;t+=1)S[t].c();j=C(),T=v("button"),T.textContent="Delete",_(r,"class","svelte-ahn0jc"),_(l,"class","clue-row svelte-ahn0jc"),_(h,"class","svelte-ahn0jc"),_(c,"class","clue-row svelte-ahn0jc"),P.__value=null,P.value=P.__value,void 0===e[1]&&z((()=>e[6].call(A))),_(f,"class","clue-row svelte-ahn0jc"),_(n,"class","clue-container content-section svelte-ahn0jc")},m(t,s){g(t,n,s),p(n,l),p(l,o),p(l,r),x(r,e[0].clue),p(n,i),p(n,c),p(c,u),p(u,a),p(u,h),x(h,e[0].answer),p(n,d),p(n,f),p(f,y),p(y,L),p(y,A),p(A,P);for(let t=0;t<S.length;t+=1)S[t].m(A,null);k(A,e[1]),p(f,j),p(f,T),W||(O=[$(r,"input",e[4]),$(r,"blur",ct.refresh),$(h,"input",e[5]),$(h,"blur",ct.refresh),$(A,"change",e[6]),$(A,"change",e[2]),$(T,"click",e[3])],W=!0)},p(t,[e]){if(1&e&&x(r,t[0].clue),1&e&&h.value!==t[0].answer&&x(h,t[0].answer),1&e){let n;for(E=t[0].possiblePositions,n=0;n<E.length;n+=1){const s=me(t,E,n);S[n]?S[n].p(s,e):(S[n]=we(s),S[n].c(),S[n].m(A,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=E.length}3&e&&k(A,t[1])},i:t,o:t,d(t){t&&m(n),w(S,t),W=!1,s(O)}}}function be(t,e,n){let s,{state:l}=e;return t.$$set=t=>{"state"in t&&n(0,l=t.state)},[l,s,function(){ct.assignClue(s,l),n(1,s=null)},function(){ct.deleteClue(l)},function(){l.clue=this.value,n(0,l)},function(){l.answer=this.value,n(0,l)},function(){s=L(this),n(1,s),n(0,l)}]}class Ce extends X{constructor(t){super(),V(this,t,be,ve,o,{state:0})}}function $e(t,e,n){const s=t.slice();return s[1]=e[n],s}function _e(t,e,n){const s=t.slice();return s[1]=e[n],s}function ye(t,e,n){const s=t.slice();return s[1]=e[n],s}function xe(t){let e,n;return e=new ge({props:{state:t[1]}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.state=t[1]),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function ke(t){let e,n;return e=new ge({props:{state:t[1]}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.state=t[1]),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Le(t){let e,n,s,l,o=t[0].unassignedClues,r=[];for(let e=0;e<o.length;e+=1)r[e]=Ae($e(t,o,e));const i=t=>R(r[t],1,1,(()=>{r[t]=null}));return{c(){e=v("div"),n=v("h3"),n.textContent="Unassigned",s=C();for(let t=0;t<r.length;t+=1)r[t].c();_(n,"class","svelte-em5v8c"),_(e,"class","content-section")},m(t,o){g(t,e,o),p(e,n),p(e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);l=!0},p(t,n){if(1&n){let s;for(o=t[0].unassignedClues,s=0;s<o.length;s+=1){const l=$e(t,o,s);r[s]?(r[s].p(l,n),H(r[s],1)):(r[s]=Ae(l),r[s].c(),H(r[s],1),r[s].m(e,null))}for(B(),s=o.length;s<r.length;s+=1)i(s);I()}},i(t){if(!l){for(let t=0;t<o.length;t+=1)H(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)R(r[t]);l=!1},d(t){t&&m(e),w(r,t)}}}function Ae(t){let e,n;return e=new Ce({props:{state:t[1]}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.state=t[1]),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Pe(t){let e,n,s,l,o,r,i,c,u,a,h,d,f,b=t[0].acrossClues,$=[];for(let e=0;e<b.length;e+=1)$[e]=xe(ye(t,b,e));const y=t=>R($[t],1,1,(()=>{$[t]=null}));let x=t[0].downClues,k=[];for(let e=0;e<x.length;e+=1)k[e]=ke(_e(t,x,e));const L=t=>R(k[t],1,1,(()=>{k[t]=null}));let A=t[0].unassignedClues.length>0&&Le(t);return{c(){e=v("div"),n=v("h2"),n.textContent="Clues and Answers",s=C(),l=v("div"),o=v("div"),r=v("h3"),r.textContent="Across",i=C();for(let t=0;t<$.length;t+=1)$[t].c();c=C(),u=v("div"),a=v("h3"),a.textContent="Down",h=C();for(let t=0;t<k.length;t+=1)k[t].c();d=C(),A&&A.c(),_(r,"class","svelte-em5v8c"),_(o,"class","content-section"),_(a,"class","svelte-em5v8c"),_(u,"class","content-section"),_(l,"class","column-container svelte-em5v8c"),_(e,"class","content-block")},m(t,m){g(t,e,m),p(e,n),p(e,s),p(e,l),p(l,o),p(o,r),p(o,i);for(let t=0;t<$.length;t+=1)$[t].m(o,null);p(l,c),p(l,u),p(u,a),p(u,h);for(let t=0;t<k.length;t+=1)k[t].m(u,null);p(l,d),A&&A.m(l,null),f=!0},p(t,[e]){if(1&e){let n;for(b=t[0].acrossClues,n=0;n<b.length;n+=1){const s=ye(t,b,n);$[n]?($[n].p(s,e),H($[n],1)):($[n]=xe(s),$[n].c(),H($[n],1),$[n].m(o,null))}for(B(),n=b.length;n<$.length;n+=1)y(n);I()}if(1&e){let n;for(x=t[0].downClues,n=0;n<x.length;n+=1){const s=_e(t,x,n);k[n]?(k[n].p(s,e),H(k[n],1)):(k[n]=ke(s),k[n].c(),H(k[n],1),k[n].m(u,null))}for(B(),n=x.length;n<k.length;n+=1)L(n);I()}t[0].unassignedClues.length>0?A?(A.p(t,e),1&e&&H(A,1)):(A=Le(t),A.c(),H(A,1),A.m(l,null)):A&&(B(),R(A,1,1,(()=>{A=null})),I())},i(t){if(!f){for(let t=0;t<b.length;t+=1)H($[t]);for(let t=0;t<x.length;t+=1)H(k[t]);H(A),f=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)R($[t]);k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)R(k[t]);R(A),f=!1},d(t){t&&m(e),w($,t),w(k,t),A&&A.d()}}}function je(t,e,n){let{state:s}=e;return t.$$set=t=>{"state"in t&&n(0,s=t.state)},[s]}class Te extends X{constructor(t){super(),V(this,t,je,Pe,o,{state:0})}}function We(t,e,n){const s=t.slice();return s[1]=e[n],s}function Oe(t,e,n){const s=t.slice();return s[1]=e[n],s}function Ee(t){let e,n,s,l,o,r,i,c=t[1].answerPosition.number+"",u=t[1].clue+"",a=(t[1].answerLength||"?")+"";return{c(){e=v("li"),n=b(c),s=b(". "),l=b(u),o=b(" ("),r=b(a),i=b(")")},m(t,c){g(t,e,c),p(e,n),p(e,s),p(e,l),p(e,o),p(e,r),p(e,i)},p(t,e){1&e&&c!==(c=t[1].answerPosition.number+"")&&y(n,c),1&e&&u!==(u=t[1].clue+"")&&y(l,u),1&e&&a!==(a=(t[1].answerLength||"?")+"")&&y(r,a)},d(t){t&&m(e)}}}function Se(t){let e,n,s,l,o,r,i,c=t[1].answerPosition.number+"",u=t[1].clue+"",a=(t[1].answerLength||"?")+"";return{c(){e=v("li"),n=b(c),s=b(". "),l=b(u),o=b(" ("),r=b(a),i=b(")")},m(t,c){g(t,e,c),p(e,n),p(e,s),p(e,l),p(e,o),p(e,r),p(e,i)},p(t,e){1&e&&c!==(c=t[1].answerPosition.number+"")&&y(n,c),1&e&&u!==(u=t[1].clue+"")&&y(l,u),1&e&&a!==(a=(t[1].answerLength||"?")+"")&&y(r,a)},d(t){t&&m(e)}}}function Ge(e){let n,s,l,o,r,i,c,u,a=e[0].acrossClues,h=[];for(let t=0;t<a.length;t+=1)h[t]=Ee(Oe(e,a,t));let d=e[0].downClues,f=[];for(let t=0;t<d.length;t+=1)f[t]=Se(We(e,d,t));return{c(){n=v("div"),s=v("h2"),s.textContent="Across",l=C(),o=v("ul");for(let t=0;t<h.length;t+=1)h[t].c();r=C(),i=v("h2"),i.textContent="Down",c=C(),u=v("ul");for(let t=0;t<f.length;t+=1)f[t].c();_(s,"class","svelte-1h04fm0"),_(o,"class","svelte-1h04fm0"),_(i,"class","svelte-1h04fm0"),_(u,"class","svelte-1h04fm0"),_(n,"class","clue-container svelte-1h04fm0")},m(t,e){g(t,n,e),p(n,s),p(n,l),p(n,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);p(n,r),p(n,i),p(n,c),p(n,u);for(let t=0;t<f.length;t+=1)f[t].m(u,null)},p(t,[e]){if(1&e){let n;for(a=t[0].acrossClues,n=0;n<a.length;n+=1){const s=Oe(t,a,n);h[n]?h[n].p(s,e):(h[n]=Ee(s),h[n].c(),h[n].m(o,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=a.length}if(1&e){let n;for(d=t[0].downClues,n=0;n<d.length;n+=1){const s=We(t,d,n);f[n]?f[n].p(s,e):(f[n]=Se(s),f[n].c(),f[n].m(u,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=d.length}},i:t,o:t,d(t){t&&m(n),w(h,t),w(f,t)}}}function ze(t,e,n){let{clueState:s}=e;return t.$$set=t=>{"clueState"in t&&n(0,s=t.clueState)},[s]}class Ne extends X{constructor(t){super(),V(this,t,ze,Ge,o,{clueState:0})}}function De(t){let e;return{c(){e=v("span"),e.textContent="Help",_(e,"slot","linkText")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function qe(t){let e;return{c(){e=v("span"),e.innerHTML='<h2>Help</h2> \n        <div class="content-section"><h3>Grid</h3> \n            <p>Click in the grid to select a cell. You can use the arrow keys to change the selected cell.<br/>\n            Type to enter letters and use space to toggle cells between black/white.<br/>\n            Clue numbers will update automatically.<br/>\n            The size dropdown will change the size of the grid up to a maximum of 15x15</p></div> \n\n        <div class="content-section"><h3>Clues and Answers</h3> \n            <p>Entries are automatically created for all answers in the grid.<br/>\n            If an answer is entered that doesn&#39;t fit that space in the grid, or the grid changes so the answer no longer fits,\n            the clue will be moved to the &quot;Unassigned&quot; section. Unassigned clues have a dropdown to assign them to any space in\n            grid where the answer will fit.</p></div> \n\n        <div class="content-section"><h3>Find Words That Fit</h3> \n            <p>This tool searches for words that are compatible with with one or more fixed letters</p></div> \n\n        <div class="content-section"><h3>Anagrams</h3> \n            <h4>Single Words</h4> \n            <p>This search will find single words that can be made using some or all of the given letters. This can be useful\n            for finding interesting words as the results don&#39;t contain any repetition.</p> \n            <h4>Full Anagrams</h4> \n            <p>This search returns sets of words using all of the given letters. The included and excluded word boxes can be\n            used to make sure that the search results do or don&#39;t contain specific words.<br/>\n            If a subset of letters can make multiple words then those words are grouped together into a single search result\n            e.g. &quot;actor&quot; contains a single result for &quot;cor/ocr/roc/orc&quot; + &quot;at/ta&quot; instead of eight results</p></div> \n\n        <div class="content-section"><h3>Dictionary</h3> \n            <p>The dictionary used on this site contains abbreviations and other strange words that you may not want to use.\n            Unfortunately finding a free, open source word list is tricky and this one seems overall pretty good. Please see\n            the credits page for more information on the word list.</p></div> \n\n        <div class="content-section"><h3>External Links</h3> \n            <p>Search result words are automatically linked to <a href="https://www.dictionary.com" target="_blank">www.dictionary.com</a>.\n            Note that no checks are made before creating the link, so it&#39;s possible that Dictionary.com won&#39;t actually have a\n            definition.</p></div> \n\n        <div class="content-section"><h3>Printing</h3> \n            <p>Printing the page should just print the grid and clues ready to solve (use the &quot;Hide answers&quot; checkbox to clear the grid).</p></div> \n\n        <div class="content-section"><h3>Development</h3> \n            <p>This site is still under development so things may break from time to time please feel free to raise an \n            <a href="https://github.com/DanCorder/CrosswordCreator/issues" target="_blank">issue on github</a>.\n            If you have a great idea for a feature, or comments on the existing features you can also raise an issue.\n            The <a href="https://github.com/DanCorder/CrosswordCreator" target="_blank">readme</a> for this project \n            includes a list possible future features if you&#39;re interested.</p></div>',_(e,"slot","content")},m(t,n){g(t,e,n)},d(t){t&&m(e)}}}function Me(t){let e,n;return e=new wt({props:{$$slots:{content:[qe],linkText:[De]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(t,s){J(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}class Fe extends X{constructor(t){super(),V(this,t,null,Me,o,{})}}function Ue(t){let e,n,l,o,r,i,c,u,a,h,d,f,w,y,x,k,L,A,P,j,T,W,O,E,S,G,z,N,D,q,M,F,U,B,I,Q,V,X,Z,tt,et;return a=new Fe({}),d=new $t({}),E=new Tt({props:{state:t[0].grid}}),N=new Ne({props:{clueState:t[0].clues}}),M=new Bt({}),Q=new Te({props:{state:t[0].clues}}),X=new ie({}),{c(){e=v("div"),n=v("div"),n.innerHTML="<h1>Under Construction</h1>\n        This site is still under active development so saved files may become incompatible without warning. Use at your own risk.<br/>",l=C(),o=v("div"),r=v("h1"),r.textContent="Cryptic Crossword Creator",i=C(),c=v("div"),u=v("div"),K(a.$$.fragment),h=C(),K(d.$$.fragment),f=C(),w=v("div"),y=v("div"),x=v("button"),x.textContent="Save",k=C(),L=v("div"),A=b("Load "),P=v("input"),j=C(),T=v("div"),W=v("div"),O=v("div"),K(E.$$.fragment),S=C(),G=v("br"),z=C(),K(N.$$.fragment),D=C(),q=v("div"),K(M.$$.fragment),F=C(),U=v("div"),U.innerHTML='<h2>External Tools</h2> \n                <ul><li><a href="https://www.wordplays.com/anagrammer" target="_blank">Anagrams</a></li> \n                    <li><a href="https://www.dictionary.com/" target="_blank">Free dictionary</a></li> \n                    <li><a href="https://www.thesaurus.com/" target="_blank">Free thesaurus</a></li> \n                    <li><a href="https://puzzling.stackexchange.com/questions/45984/cryptic-clue-guide" target="_blank">Different clue types 1</a></li> \n                    <li><a href="https://en.wikipedia.org/wiki/Cryptic_crossword#Types_of_cryptic_clues" target="_blank">Different clue types 2</a></li> \n                    <li><a href="https://en.wikipedia.org/wiki/Crossword_abbreviations" target="_blank">Clues for letters</a></li></ul>',B=C(),I=v("div"),K(Q.$$.fragment),V=C(),K(X.$$.fragment),_(n,"class","content-block dont-print"),_(r,"class","svelte-3rlwcu"),_(u,"class","content-section"),_(y,"class","content-section"),_(P,"type","file"),_(P,"id","file-selector"),_(L,"class","content-section"),_(w,"class","content-section file-section svelte-3rlwcu"),_(c,"class","header-links dont-print svelte-3rlwcu"),_(o,"class","content-block header dont-print svelte-3rlwcu"),_(O,"class","content-block"),_(q,"class","content-block dont-print"),_(U,"class","content-block dont-print"),_(W,"class","left-column svelte-3rlwcu"),_(I,"class","right-column dont-print svelte-3rlwcu"),_(T,"class","tools svelte-3rlwcu"),_(e,"class","main")},m(s,m){g(s,e,m),p(e,n),p(e,l),p(e,o),p(o,r),p(o,i),p(o,c),p(c,u),J(a,u,null),p(u,h),J(d,u,null),p(c,f),p(c,w),p(w,y),p(y,x),p(w,k),p(w,L),p(L,A),p(L,P),p(e,j),p(e,T),p(T,W),p(W,O),J(E,O,null),p(O,S),p(O,G),p(O,z),J(N,O,null),p(W,D),p(W,q),J(M,q,null),p(W,F),p(W,U),p(T,B),p(T,I),J(Q,I,null),p(I,V),J(X,I,null),Z=!0,tt||(et=[$(x,"click",t[1]),$(P,"change",t[2])],tt=!0)},p(t,[e]){const n={};1&e&&(n.state=t[0].grid),E.$set(n);const s={};1&e&&(s.clueState=t[0].clues),N.$set(s);const l={};1&e&&(l.state=t[0].clues),Q.$set(l)},i(t){Z||(H(a.$$.fragment,t),H(d.$$.fragment,t),H(E.$$.fragment,t),H(N.$$.fragment,t),H(M.$$.fragment,t),H(Q.$$.fragment,t),H(X.$$.fragment,t),Z=!0)},o(t){R(a.$$.fragment,t),R(d.$$.fragment,t),R(E.$$.fragment,t),R(N.$$.fragment,t),R(M.$$.fragment,t),R(Q.$$.fragment,t),R(X.$$.fragment,t),Z=!1},d(t){t&&m(e),Y(a),Y(d),Y(E),Y(N),Y(M),Y(Q),Y(X),tt=!1,s(et)}}}function Be(t,e,n){let s;return c(t,ct,(t=>n(0,s=t))),[s,function(){const t=ut();if(window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(t.fileData,t.filename);else{const e=window.document.createElement("a");e.style.display="none",e.href=window.URL.createObjectURL(t.fileData),e.download=t.filename,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(e.href)}},function(t){!function(t){t.text().then((t=>{const e=JSON.parse(t);ct.set(new ot(e.crosswordState))})).catch((t=>alert("Couldn't understand save file: "+t)))}(t.target.files[0])}]}return new class extends X{constructor(t){super(),V(this,t,Be,Ue,o,{})}}({target:document.body})}();
