var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function i(t,e,n,s){if(t){const l=c(t,e,n,s);return t[0](l)}}function c(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function a(t,e,n,s){if(t[2]&&s){const l=t[2](s(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|l[s];return t}return e.dirty|l}return e.dirty}function u(t,e,n,s,l,o){if(l){const r=c(e,n,s,o);t.p(r,l)}}function h(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function v(){return w(" ")}function b(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function y(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function x(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let k;function L(t){k=t}function A(t){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.before_update.push(t)}const j=[],P=[],T=[],W=[],E=Promise.resolve();let O=!1;function G(t){T.push(t)}let S=!1;const z=new Set;function N(){if(!S){S=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];L(e),q(e.$$)}for(L(null),j.length=0;P.length;)P.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];z.has(e)||(z.add(e),e())}T.length=0}while(j.length);for(;W.length;)W.pop()();O=!1,S=!1,z.clear()}}function q(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const M=new Set;let D;function U(){D={r:0,c:[],p:D}}function F(){D.r||s(D.c),D=D.p}function B(t,e){t&&t.i&&(M.delete(t),t.i(e))}function I(t,e,n,s){if(t&&t.o){if(M.has(t))return;M.add(t),D.c.push((()=>{M.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function H(t){t&&t.c()}function R(t,n,o,r){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=t.$$;i&&i.m(n,o),r||G((()=>{const n=c.map(e).filter(l);a?a.push(...n):s(n),t.$$.on_mount=[]})),u.forEach(G)}function K(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(j.push(t),O||(O=!0,E.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,l,o,r,i,c,a,u=[-1]){const h=k;L(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||h.$$.root};a&&a(d.root);let f=!1;if(d.ctx=o?o(e,l.props||{},((t,n,...s)=>{const l=s.length?s[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),f&&J(e,t)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();l.intro&&B(e.$$.fragment),R(e,l.target,l.anchor,l.customElement),N()}L(h)}class Q{$destroy(){K(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V="_";class X{constructor(t=null){t&&(this.row=t.r,this.column=t.c,this.number=t.n,this.direction=t.d,this.letters=t.a)}toObject(){return{r:this.row,c:this.column,n:this.number,d:this.direction,a:this.letters}}matchesAnswer(t){if(this.letters.length!==t.length)return!1;let e=!0;return[...this.letters].forEach(((n,s)=>{n!==V&&n.toLowerCase()!==t[s].toLowerCase()&&(e=!1)})),e}}class Z{constructor(t=null){this.clue="",this.answer="",this.answerPosition=null,this.possiblePositions=[],t&&(this.clue=t.c,this.answer=t.a,this.answerPosition=null==t.p?null:new X(t.p))}toObject(){return{c:this.clue,a:this.answer,p:null===this.answerPosition?null:this.answerPosition.toObject()}}get answerLength(){const t=[];return[...this.answer].forEach((e=>{" "===e?t.push(","):"-"===e?t.push("-"):0===t.length||","===t[t.length-1]||"-"===t[t.length-1]?t.push(1):t[t.length-1]=t[t.length-1]+1})),t.join("")}get strippedAnswer(){return this.answer.replaceAll(/[- ]/g,"")}}class tt{constructor(t=null){this.acrossClues=[],this.downClues=[],this.unassignedClues=[],t&&(t.a.forEach((t=>this.acrossClues.push(new Z(t)))),t.d.forEach((t=>this.downClues.push(new Z(t)))),t.u.forEach((t=>this.unassignedClues.push(new Z(t)))))}toObject(){return{a:this.acrossClues.map((t=>t.toObject())),d:this.downClues.map((t=>t.toObject())),u:this.unassignedClues.map((t=>t.toObject()))}}assignClue(t,e){const n="a"===t.direction?this.acrossClues:this.downClues,s=n.findIndex((e=>e.answerPosition.number===t.number));if(-1!==s){const t=n[s];n.splice(s,1),t.answerPosition=null,(t.answer||t.clue)&&this.unassignedClues.push(t)}const l=this.unassignedClues.indexOf(e);this.unassignedClues.splice(l,1),e.answerPosition=t,n.push(e),this.sortClues()}deleteClue(t){const e=this.unassignedClues.indexOf(t);this.unassignedClues.splice(e,1)}syncToGrid(t){const e=t.filter((t=>"a"===t.direction)),n=t.filter((t=>"d"===t.direction)),s=[],l=[],o=[...this.unassignedClues];e.forEach((t=>this.updateClues(t,this.acrossClues,s))),o.push(...this.acrossClues),n.forEach((t=>this.updateClues(t,this.downClues,l))),o.push(...this.downClues),this.acrossClues=s,this.downClues=l,this.unassignedClues=o.filter((t=>""!==t.clue.trim()||""!==t.answer.trim())),this.unassignedClues.forEach((e=>{e.answerPosition=null,e.possiblePositions=this.findPossiblePositions(e.strippedAnswer,t)})),this.sortClues()}findPossiblePositions(t,e){const n=[];return e.forEach((e=>{e.matchesAnswer(t)&&n.push({direction:e.direction,number:e.number})})),n}updateClues(t,e,n){const s=e.findIndex((e=>this.isMatch(t,e)));let l;l=-1===s?new Z:e.splice(s,1)[0],l.answerPosition=t,n.push(l)}isMatch(t,e){return t.column===e.answerPosition.column&&t.row===e.answerPosition.row&&(""===e.answer.trim()||t.matchesAnswer(e.strippedAnswer))}sortClues(){this.acrossClues=this.acrossClues.sort(((t,e)=>t.answerPosition.number-e.answerPosition.number)),this.downClues=this.downClues.sort(((t,e)=>t.answerPosition.number-e.answerPosition.number))}}class et{constructor(t=null){this.isWhite=!0,this.cellNumber=null,this.answerLetter="",t&&(this.isWhite=t.w,this.cellNumber=t.n,this.answerLetter=t.l)}toObject(){return{w:this.isWhite,n:this.cellNumber,l:this.answerLetter}}}class nt{constructor(t=null){this.cells=[],t?(t.forEach((t=>{const e=[];t.forEach((t=>e.push(new et(t)))),this.cells.push(e)})),this.findAnswers()):(this.resizeGrid(11),this.numberCells())}get size(){return this.cells.length}toObject(){return this.cells.map((t=>t.map((t=>t.toObject()))))}toggleCell(t,e){return this.cells[t][e].isWhite=!this.cells[t][e].isWhite,this.numberCells(),this}setCellLetter(t,e,n){if(n.length>1)throw"Can't put more than one letter in a cell";if(!this.cells[t][e].isWhite)throw"Can't set a letter on a black square";return this.cells[t][e].answerLetter=n,this}sizeGrid(t){return this.resizeGrid(t),this.numberCells(),this}setLetters(t,e,n,s){const l="a"===n?(t,e)=>({row:t,column:e+1}):(t,e)=>({row:t+1,column:e});let o={row:t,column:e};return[...s.toUpperCase()].forEach((t=>{this.cells[o.row][o.column].answerLetter=t,o=l(o.row,o.column)})),this}resizeGrid(t){const e=this.cells,n=e.length;if(n===t)return this;if(n<t)for(let s=0;s<t;s++){const l=s>=n,o=l?[]:e[s];for(let e=l?0:n;e<t;e++)o.push(new et);l&&this.cells.push(o)}else{e.splice(t,n-t);for(let s=0;s<t;s++)e[s].splice(t,n-t)}}findAnswers(){const t=this.cells,e=t.length,n=[];for(let s=0;s<e;s++)for(let l=0;l<e;l++){const o=t[s][l];if(o.cellNumber){if(l<e-1&&t[s][l+1].isWhite&&(0===l||!t[s][l-1].isWhite)){let r=o.answerLetter?o.answerLetter:V;for(let n=l+1;n<e;n++){const e=t[s][n];if(!e.isWhite)break;e.answerLetter?r+=e.answerLetter:r+=V}const i=new X;i.row=s,i.column=l,i.number=o.cellNumber,i.direction="a",i.letters=r,n.push(i)}if(s<e-1&&t[s+1][l].isWhite&&(0===s||!t[s-1][l].isWhite)){let r=o.answerLetter?o.answerLetter:V;for(let n=s+1;n<e;n++){const e=t[n][l];if(!e.isWhite)break;e.answerLetter?r+=e.answerLetter:r+=V}const i=new X;i.row=s,i.column=l,i.number=o.cellNumber,i.direction="d",i.letters=r,n.push(i)}}}return n}numberCells(){const t=this.cells,e=t.length;let n=1;for(let s=0;s<e;s++)for(let l=0;l<e;l++)t[s][l].isWhite?(0!==s&&t[s-1][l].isWhite||s===e-1||!t[s+1][l].isWhite)&&(0!==l&&t[s][l-1].isWhite||l===e-1||!t[s][l+1].isWhite)?t[s][l].cellNumber=null:(t[s][l].cellNumber=n,n++):t[s][l].cellNumber=null}}class st{constructor(t=null){this.grid=new nt,this.clues=new tt,t?this.hydrate(t):this.syncCluesAndGrid()}serialize(){return JSON.stringify(this.toObject())}assignClue(t,e){const n=this.grid.findAnswers().find((e=>e.direction===t.direction&&e.number===t.number));return this.clues.assignClue(n,e),this}deleteClue(t){return this.clues.deleteClue(t),this}refresh(){return this.syncCluesAndGrid(),this}toggleCell(t,e){return this.grid.toggleCell(t,e),this.syncCluesAndGrid(),this}setCellLetter(t,e,n){return this.grid.setCellLetter(t,e,n),this.syncCluesAndGrid(),this}sizeGrid(t){return this.grid.sizeGrid(t),this.syncCluesAndGrid(),this}setGridLetters(t,e,n,s){return this.grid.setLetters(t,e,n,s),this.syncCluesAndGrid(),this}setClueText(t,e,n){return("a"===e?this.clues.acrossClues:this.clues.downClues).find((e=>e.answerPosition.number===t)).clue=n,this}setAnswerText(t,e,n){return("a"===e?this.clues.acrossClues:this.clues.downClues).find((e=>e.answerPosition.number===t)).answer=n,this.syncCluesAndGrid(),this}syncCluesAndGrid(){return this.clues.syncToGrid(this.grid.findAnswers()),this}toObject(){return{clues:this.clues.toObject(),grid:this.grid.toObject()}}hydrate(t){const e=JSON.parse(t);return this.clues=new tt(e.clues),this.grid=new nt(e.grid),this.clues.syncToGrid(this.grid.findAnswers()),this}}const lt=[];function ot(e,n=t){let s;const l=new Set;function r(t){if(o(e,t)&&(e=t,s)){const t=!lt.length;for(const t of l)t[1](),lt.push(t,e);if(t){for(let t=0;t<lt.length;t+=2)lt[t][0](lt[t+1]);lt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,i=t){const c=[o,i];return l.add(c),1===l.size&&(s=n(r)||t),o(e),()=>{l.delete(c),0===l.size&&(s(),s=null)}}}}const rt=function(){const{subscribe:t,set:e,update:n}=ot(new st);return{subscribe:t,set:e,assignClue:(t,e)=>n((n=>n.assignClue(t,e))),deleteClue:t=>n((e=>e.deleteClue(t))),refresh:()=>n((t=>t.refresh())),setGridLetters:(t,e,s,l)=>n((n=>n.setGridLetters(t,e,s,l))),toggleCell:(t,e)=>n((n=>n.toggleCell(t,e))),setCellLetter:(t,e,s)=>n((n=>n.setCellLetter(t,e,s))),sizeGrid:t=>n((e=>e.sizeGrid(t)))}}(),it=t=>({}),ct=t=>({}),at=t=>({}),ut=t=>({});function ht(t){let e,n,s,l,o,r,c;const g=t[3].content,$=i(g,t,t[2],ct),_=$||function(t){let e;return{c(){e=w("Hello World!")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}();return{c(){e=m("div"),n=m("div"),s=m("p"),s.textContent="Close",l=v(),_&&_.c(),C(s,"class","link close svelte-1phkiln"),C(n,"class","content-block svelte-1phkiln"),C(e,"class","overlay svelte-1phkiln")},m(i,a){f(i,e,a),d(e,n),d(n,s),d(n,l),_&&_.m(n,null),o=!0,r||(c=b(s,"click",t[1]),r=!0)},p(t,e){$&&$.p&&(!o||4&e)&&u($,g,t,t[2],o?a(g,t[2],e,it):h(t[2]),ct)},i(t){o||(B(_,t),o=!0)},o(t){I(_,t),o=!1},d(t){t&&p(e),_&&_.d(t),r=!1,c()}}}function dt(t){let e,n,s,l,o,r;const c=t[3].linkText,d=i(c,t,t[2],ut),g=d||function(t){let e;return{c(){e=w("Open")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}();let $=t[0]&&ht(t);return{c(){e=m("span"),g&&g.c(),n=v(),$&&$.c(),s=w(""),C(e,"class","link")},m(i,c){f(i,e,c),g&&g.m(e,null),f(i,n,c),$&&$.m(i,c),f(i,s,c),l=!0,o||(r=b(e,"click",t[1]),o=!0)},p(t,[e]){d&&d.p&&(!l||4&e)&&u(d,c,t,t[2],l?a(c,t[2],e,at):h(t[2]),ut),t[0]?$?($.p(t,e),1&e&&B($,1)):($=ht(t),$.c(),B($,1),$.m(s.parentNode,s)):$&&(U(),I($,1,1,(()=>{$=null})),F())},i(t){l||(B(g,t),B($),l=!0)},o(t){I(g,t),I($),l=!1},d(t){t&&p(e),g&&g.d(t),t&&p(n),$&&$.d(t),t&&p(s),o=!1,r()}}}function ft(t,e,n){let{$$slots:s={},$$scope:l}=e,o=!1;return t.$$set=t=>{"$$scope"in t&&n(2,l=t.$$scope)},[o,function(){n(0,o=!o)},l,s]}class pt extends Q{constructor(t){super(),Y(this,t,ft,dt,o,{})}}function gt(t){let e;return{c(){e=m("span"),e.textContent="Credits",C(e,"slot","linkText")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function mt(t){let e;return{c(){e=m("span"),e.innerHTML='<h2>Credits/Copyright</h2> \n\n        <div class="content-section"><h3>This Website</h3> \n            <p>This website was created by Dan Corder. <a href="https://github.com/DanCorder/CrosswordCreator/" target="_blank">The source</a> is available under the <a href="https://github.com/DanCorder/CrosswordCreator/blob/main/LICENSE.txt" target="_blank">GPL3 licence</a> on Github so you can run your own version or make customisations.</p></div> \n\n        <div class="content-section"><h3>Word List</h3> \n            <p>The word list used by this site comes from <a href="http://app.aspell.net/create" target="_blank">http://app.aspell.net/create</a> and has the following notice:</p> \n            <pre>Copyright 2000-2019 by Kevin Atkinson\n\n    Permission to use, copy, modify, distribute and sell these word\n    lists, the associated scripts, the output created from the scripts,\n    and its documentation for any purpose is hereby granted without fee,\n    provided that the above copyright notice appears in all copies and\n    that both that copyright notice and this permission notice appear in\n    supporting documentation. Kevin Atkinson makes no representations\n    about the suitability of this array for any purpose. It is provided\n    &quot;as is&quot; without express or implied warranty.\n\n    Copyright (c) J Ross Beresford 1993-1999. All Rights Reserved.\n\n    The following restriction is placed on the use of this publication:\n    if The UK Advanced Cryptics Dictionary is used in a software package\n    or redistributed in any form, the copyright notice must be\n    prominently displayed and the text of this document must be included\n    verbatim.\n\n    There are no other restrictions: I would like to see the list\n    distributed as widely as possible.\n\n    Special credit also goes to Alan Beale &lt;biljir@pobox.com&gt; as he has\n    given me an incredible amount of feedback and created a number of\n    special lists (those found in the Supplement) in order to help improve\n    the overall quality of SCOWL.\n\n    Many sources were used in the creation of SCOWL, most of them were in\n    the public domain or used indirectly.  For a full list please see the\n    SCOWL readme.\n\n    <a href="http://wordlist.aspell.net/" target="_blank">http://wordlist.aspell.net/</a></pre></div>',C(e,"slot","content")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function wt(t){let e,n;return e=new pt({props:{$$slots:{content:[mt],linkText:[gt]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}class vt extends Q{constructor(t){super(),Y(this,t,null,wt,o,{})}}function bt(t,e,n){const s=t.slice();return s[15]=e[n],s[16]=e,s[17]=n,s}function Ct(t,e,n){const s=t.slice();return s[18]=e[n],s[19]=e,s[20]=n,s}function $t(t){let e,n,s,l,o=(t[18].cellNumber??"")+"",r=!t[1]&&_t(t);return{c(){e=m("div"),n=m("div"),s=w(o),l=v(),r&&r.c(),C(n,"class","cell-number svelte-1un5x5t"),C(e,"class","cell-layout svelte-1un5x5t")},m(t,o){f(t,e,o),d(e,n),d(n,s),d(e,l),r&&r.m(e,null)},p(t,n){1&n&&o!==(o=(t[18].cellNumber??"")+"")&&$(s,o),t[1]?r&&(r.d(1),r=null):r?r.p(t,n):(r=_t(t),r.c(),r.m(e,null))},d(t){t&&p(e),r&&r.d()}}}function _t(t){let e,n,s=t[18].answerLetter+"";return{c(){e=m("div"),n=w(s),C(e,"class","cell-letter svelte-1un5x5t")},m(t,s){f(t,e,s),d(e,n)},p(t,e){1&e&&s!==(s=t[18].answerLetter+"")&&$(n,s)},d(t){t&&p(e)}}}function yt(t){let e,n,l,o,r=t[17],i=t[20],c=t[18].isWhite&&$t(t);function a(){return t[9](t[17],t[20])}function u(...e){return t[10](t[17],t[20],...e)}const h=()=>t[11](e,r,i),d=()=>t[11](null,r,i);return{c(){e=m("td"),c&&c.c(),C(e,"tabindex","0"),C(e,"class",n="cell "+(t[18].isWhite?"white":"black")+" svelte-1un5x5t")},m(t,n){f(t,e,n),c&&c.m(e,null),h(),l||(o=[b(e,"focus",a),b(e,"keydown",u)],l=!0)},p(s,l){(t=s)[18].isWhite?c?c.p(t,l):(c=$t(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),1&l&&n!==(n="cell "+(t[18].isWhite?"white":"black")+" svelte-1un5x5t")&&C(e,"class",n),r===t[17]&&i===t[20]||(d(),r=t[17],i=t[20],h())},d(t){t&&p(e),c&&c.d(),d(),l=!1,s(o)}}}function xt(t){let e,n,s=t[15],l=[];for(let e=0;e<s.length;e+=1)l[e]=yt(Ct(t,s,e));return{c(){e=m("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=v()},m(t,s){f(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);d(e,n)},p(t,o){if(55&o){let r;for(s=t[15],r=0;r<s.length;r+=1){const i=Ct(t,s,r);l[r]?l[r].p(i,o):(l[r]=yt(i),l[r].c(),l[r].m(e,n))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(t){t&&p(e),g(l,t)}}}function kt(e){let n,l,o,r,i,c,a,u,h,$,_,x,k,L,A,j,P,T,W,E,O,S,z,N,q,M,D,U,F,B=e[0].cells,I=[];for(let t=0;t<B.length;t+=1)I[t]=xt(bt(e,B,t));return{c(){n=m("div"),l=m("p"),o=m("span"),r=w("Size: "),i=m("select"),c=m("option"),c.textContent="1",a=m("option"),a.textContent="2",u=m("option"),u.textContent="3",h=m("option"),h.textContent="4",$=m("option"),$.textContent="5",_=m("option"),_.textContent="6",x=m("option"),x.textContent="7",k=m("option"),k.textContent="8",L=m("option"),L.textContent="9",A=m("option"),A.textContent="10",j=m("option"),j.textContent="11",P=m("option"),P.textContent="12",T=m("option"),T.textContent="13",W=m("option"),W.textContent="14",E=m("option"),E.textContent="15",O=v(),S=m("span"),z=w("Hide answers: "),N=m("input"),q=v(),M=m("table"),D=m("tbody");for(let t=0;t<I.length;t+=1)I[t].c();c.__value=1,c.value=c.__value,a.__value=2,a.value=a.__value,u.__value=3,u.value=u.__value,h.__value=4,h.value=h.__value,$.__value=5,$.value=$.__value,_.__value=6,_.value=_.__value,x.__value=7,x.value=x.__value,k.__value=8,k.value=k.__value,L.__value=9,L.value=L.__value,A.__value=10,A.value=A.__value,j.__value=11,j.value=j.__value,P.__value=12,P.value=P.__value,T.__value=13,T.value=T.__value,W.__value=14,W.value=W.__value,E.__value=15,E.value=E.__value,void 0===e[3]&&G((()=>e[7].call(i))),C(o,"class","grid-setting svelte-1un5x5t"),C(N,"type","checkbox"),C(S,"class","grid-setting svelte-1un5x5t"),C(l,"class","dont-print"),C(M,"class","grid svelte-1un5x5t")},m(t,s){f(t,n,s),d(n,l),d(l,o),d(o,r),d(o,i),d(i,c),d(i,a),d(i,u),d(i,h),d(i,$),d(i,_),d(i,x),d(i,k),d(i,L),d(i,A),d(i,j),d(i,P),d(i,T),d(i,W),d(i,E),y(i,e[3]),d(l,O),d(l,S),d(S,z),d(S,N),N.checked=e[1],d(n,q),d(n,M),d(M,D);for(let t=0;t<I.length;t+=1)I[t].m(D,null);U||(F=[b(i,"change",e[7]),b(i,"change",e[6]),b(N,"change",e[8])],U=!0)},p(t,[e]){if(8&e&&y(i,t[3]),2&e&&(N.checked=t[1]),55&e){let n;for(B=t[0].cells,n=0;n<B.length;n+=1){const s=bt(t,B,n);I[n]?I[n].p(s,e):(I[n]=xt(s),I[n].c(),I[n].m(D,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=B.length}},i:t,o:t,d(t){t&&p(n),g(I,t),U=!1,s(F)}}}function Lt(t,e,n){let s,{state:l}=e,o=!1,r=null,i=null,c=[];function a(t,e){r=t,i=e}function u(t,e,n){if(!n.metaKey&&!n.ctrlKey){switch(n.preventDefault(),n.key){case" ":rt.toggleCell(t,e);break;case"Backspace":case"Delete":rt.setCellLetter(t,e,"");break;case"ArrowUp":r=Math.max(0,r-1);break;case"ArrowDown":r=Math.min(l.size-1,r+1);break;case"ArrowLeft":i=Math.max(0,i-1);break;case"ArrowRight":i=Math.min(l.size-1,i+1);break;default:n.key.match(/^[a-z]$/i)&&rt.setCellLetter(t,e,n.key.toUpperCase())}c[r][i].focus()}}A((()=>{s!==c.length&&function(){for(let t=0;t<l.size;t++)c.push([])}()}));return t.$$set=t=>{"state"in t&&n(0,l=t.state)},t.$$.update=()=>{1&t.$$.dirty&&n(3,s=l.size)},[l,o,c,s,a,u,function(){rt.sizeGrid(s),r=Math.min(r,s-1),i=Math.min(i,s-1)},function(){s=x(this),n(3,s),n(0,l)},function(){o=this.checked,n(1,o)},(t,e)=>a(t,e),(t,e,n)=>u(t,e,n),function(t,e,s){P[t?"unshift":"push"]((()=>{c[e][s]=t,n(2,c)}))}]}class At extends Q{constructor(t){super(),Y(this,t,Lt,kt,o,{state:0})}}const jt=function(){let t=ot(null);return fetch("assets/js/processedWordList.json").then((t=>t.json())).then((e=>{t.set(e)})),t}();class Pt{constructor(){this.matches=[]}findMatchingWords(t){if(this.matches=[],""===this.pattern)return this;const e=t[this.pattern.length],n=new RegExp(this.pattern.toLowerCase().replaceAll(".","\\w").replaceAll(" ","\\w"));return Object.keys(e).forEach((t=>{n.test(t)&&(this.matches=this.matches.concat(e[t]))})),this}}const Tt=function(){const{subscribe:t,set:e,update:n}=ot(new Pt);let s;return jt.subscribe((t=>s=t)),{subscribe:t,set:e,findWords:()=>n((t=>t.findMatchingWords(s)))}}();function Wt(e){let n,s,l,o;return{c(){n=m("div"),s=m("a"),l=w(e[0]),C(s,"href",o=""+(Et+e[0])),C(s,"target","_blank"),C(n,"class","svelte-2buty2")},m(t,e){f(t,n,e),d(n,s),d(s,l)},p(t,[e]){1&e&&$(l,t[0]),1&e&&o!==(o=""+(Et+t[0]))&&C(s,"href",o)},i:t,o:t,d(t){t&&p(n)}}}const Et="https://www.dictionary.com/browse/";function Ot(t,e,n){let{result:s}=e;return t.$$set=t=>{"result"in t&&n(0,s=t.result)},[s]}class Gt extends Q{constructor(t){super(),Y(this,t,Ot,Wt,o,{result:0})}}function St(t,e,n){const s=t.slice();return s[4]=e[n],s}function zt(t){let e;return{c(){e=m("div"),e.textContent="No results",C(e,"class","no-results svelte-1oly632")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Nt(t){let e,n;return e=new Gt({props:{result:t[4]}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.result=t[4]),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function qt(t){let e,n,l,o,r,i,c,a,u,h,w,C,$,y=t[0].matches,x=[];for(let e=0;e<y.length;e+=1)x[e]=Nt(St(t,y,e));const k=t=>I(x[t],1,1,(()=>{x[t]=null}));let L=null;return y.length||(L=zt()),{c(){e=m("div"),n=m("h2"),n.textContent="Find Words That Fit",l=v(),o=m("p"),o.textContent="Enter the pattern to match below. Use letters where you have them and '.' or space for empty spaces",r=v(),i=m("input"),c=v(),a=m("button"),a.textContent="Search",u=v(),h=m("div");for(let t=0;t<x.length;t+=1)x[t].c();L&&L.c()},m(s,p){f(s,e,p),d(e,n),d(e,l),d(e,o),d(e,r),d(e,i),_(i,t[0].pattern),d(e,c),d(e,a),d(e,u),d(e,h);for(let t=0;t<x.length;t+=1)x[t].m(h,null);L&&L.m(h,null),w=!0,C||($=[b(i,"input",t[3]),b(i,"keydown",t[2]),b(a,"click",t[1])],C=!0)},p(t,[e]){if(1&e&&i.value!==t[0].pattern&&_(i,t[0].pattern),1&e){let n;for(y=t[0].matches,n=0;n<y.length;n+=1){const s=St(t,y,n);x[n]?(x[n].p(s,e),B(x[n],1)):(x[n]=Nt(s),x[n].c(),B(x[n],1),x[n].m(h,null))}for(U(),n=y.length;n<x.length;n+=1)k(n);F(),y.length?L&&(L.d(1),L=null):L||(L=zt(),L.c(),L.m(h,null))}},i(t){if(!w){for(let t=0;t<y.length;t+=1)B(x[t]);w=!0}},o(t){x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)I(x[t]);w=!1},d(t){t&&p(e),g(x,t),L&&L.d(),C=!1,s($)}}}function Mt(t,e,n){let s;function l(){Tt.findWords()}return r(t,Tt,(t=>n(0,s=t))),[s,l,function(t){"Enter"===t.key&&l()},function(){s.pattern=this.value,Tt.set(s)}]}class Dt extends Q{constructor(t){super(),Y(this,t,Mt,qt,o,{})}}class Ut{}function Ft(t,e,n=3,s=[],l=[],o=1e3,r=!0){let i;try{i=function(t,e){let n=t;for(const t of e)for(const e of t){const t=n.indexOf(e);if(-1===t)throw"Error! qq";n=n.slice(0,t)+n.slice(t+1)}return n}(t,l)}catch(t){return alert("Included words are not an anagram of input word"),[]}if(""===i)return alert("No letters left to anagram!"),[];const c=It(i),a=[];for(const i of function*(t){for(let e of function*(t){let e=[],n=[];for(let s=0;s<t;s++)e.push(0),n.push(1);const s=t-1;for(;;)if(yield e,e[s]===n[s]){let l=s-1;for(;e[l]===n[l];)l--;if(0===l)return;e[l]+=1;const o=n[l]+(e[l]===n[l]?1:0);for(l++;l<t;l++)e[l]=0,n[l]=o}else e[s]+=1}(t.length)){const n=[];for(let s=0;s<t.length;s++){const l=e[s];void 0===n[l]&&(n[l]=""),n[l]+=t[s]}yield n}}(c)){if(!i.every((t=>t.length>=n)))continue;let c=[],u=!0;for(let n=0;n<i.length;n++){const l=i[n];if(r&&1===l.length&&"a"!==l[0]&&"i"!==l[0]){u=!1;break}const o=e[l.length].find((t=>t.letters===l));if(void 0===o){u=!1;break}const a=o.words.filter((e=>e!==t&&-1===s.indexOf(e)));if(0===a.length){u=!1;break}c.push(a)}if(u){for(const t of l)c=c.concat([[t]]);c.sort(Bt);let t=!1;for(let e=0;e<a.length;e++){const n=a[e];if(n.length!==c.length)continue;let s=!0;for(let t=0;t<n.length;t++)if(n[t][0]!==c[t][0]){s=!1;break}if(s){t=!0;break}}t||a.push(c)}if(a.length>=o)break}return a}function Bt(t,e){return e[0].length!==t[0].length?e[0].length-t[0].length:e[0]>t[0]?-1:1}function It(t){return t.split("").sort().join("")}function Ht(t,e,n){const s=t.slice();return s[1]=e[n],s}function Rt(t,e,n){const s=t.slice();return s[4]=e[n],s}function Kt(t){let e,n,s,l,o=t[4]+"";return{c(){e=m("li"),n=m("a"),s=w(o),C(n,"href",l=""+(Qt+t[4])),C(n,"target","_blank")},m(t,l){f(t,e,l),d(e,n),d(n,s)},p(t,e){1&e&&o!==(o=t[4]+"")&&$(s,o),1&e&&l!==(l=""+(Qt+t[4]))&&C(n,"href",l)},d(t){t&&p(e)}}}function Jt(t){let e,n,s=t[1],l=[];for(let e=0;e<s.length;e+=1)l[e]=Kt(Rt(t,s,e));return{c(){e=m("ul");for(let t=0;t<l.length;t+=1)l[t].c();n=v(),C(e,"class","svelte-1dbsdx5")},m(t,s){f(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);d(e,n)},p(t,o){if(1&o){let r;for(s=t[1],r=0;r<s.length;r+=1){const i=Rt(t,s,r);l[r]?l[r].p(i,o):(l[r]=Kt(i),l[r].c(),l[r].m(e,n))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(t){t&&p(e),g(l,t)}}}function Yt(e){let n,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=Jt(Ht(e,s,t));return{c(){n=m("div");for(let t=0;t<l.length;t+=1)l[t].c();C(n,"class","content-section svelte-1dbsdx5")},m(t,e){f(t,n,e);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,[e]){if(1&e){let o;for(s=t[0],o=0;o<s.length;o+=1){const r=Ht(t,s,o);l[o]?l[o].p(r,e):(l[o]=Jt(r),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},i:t,o:t,d(t){t&&p(n),g(l,t)}}}const Qt="https://www.dictionary.com/browse/";function Vt(t,e,n){let{result:s}=e;return t.$$set=t=>{"result"in t&&n(0,s=t.result)},[s]}class Xt extends Q{constructor(t){super(),Y(this,t,Vt,Yt,o,{result:0})}}function Zt(t,e,n){const s=t.slice();return s[15]=e[n],s}function te(t){let e;return{c(){e=m("div"),e.textContent="No results",C(e,"class","no-results svelte-1oly632")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function ee(t){let e,n;return e=new Xt({props:{result:t[15]}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,n){const s={};4&n&&(s.result=t[15]),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function ne(t){let e,n,l,o,r,i,c,a,u,h,$,x,k,L,A,j,P,T,W,E,O,S,z,N,q,M,D,H,R,K,J,Y,Q,V,X,Z,tt,et,nt,st,lt,ot,rt=t[2],it=[];for(let e=0;e<rt.length;e+=1)it[e]=ee(Zt(t,rt,e));const ct=t=>I(it[t],1,1,(()=>{it[t]=null}));let at=null;return rt.length||(at=te()),{c(){e=m("div"),n=m("h2"),n.textContent="Find Anagrams",l=v(),o=m("p"),r=m("input"),i=w("\n        Minimum word length\n        "),c=m("select"),a=m("option"),a.textContent="2",u=m("option"),u.textContent="3",h=m("option"),h.textContent="4",$=m("option"),$.textContent="5",x=m("option"),x.textContent="6",k=m("option"),k.textContent="7",L=m("option"),L.textContent="8",A=m("option"),A.textContent="9",j=m("option"),j.textContent="10",P=m("option"),P.textContent="11",T=m("option"),T.textContent="12",W=m("option"),W.textContent="13",E=m("option"),E.textContent="14",O=m("option"),O.textContent="15",S=v(),z=m("p"),N=m("button"),N.textContent="Find single words",q=w(" Find all single word anagrams within the input, not necessarily using all letters"),M=v(),D=m("p"),H=m("button"),H.textContent="Find full anagrams",R=w(" Find full multi-word anagrams (up to 1000 results)"),K=v(),J=m("p"),Y=m("textarea"),Q=w(" Excluded words (one per line)"),V=v(),X=m("p"),Z=m("textarea"),tt=w(" Included words (one per line)"),et=v(),nt=m("div");for(let t=0;t<it.length;t+=1)it[t].c();at&&at.c(),a.__value=2,a.value=a.__value,u.__value=3,u.value=u.__value,h.__value=4,h.value=h.__value,$.__value=5,$.value=$.__value,x.__value=6,x.value=x.__value,k.__value=7,k.value=k.__value,L.__value=8,L.value=L.__value,A.__value=9,A.value=A.__value,j.__value=10,j.value=j.__value,P.__value=11,P.value=P.__value,T.__value=12,T.value=T.__value,W.__value=13,W.value=W.__value,E.__value=14,E.value=E.__value,O.__value=15,O.value=O.__value,void 0===t[4]&&G((()=>t[9].call(c))),C(e,"class","content-block")},m(s,p){f(s,e,p),d(e,n),d(e,l),d(e,o),d(o,r),_(r,t[3]),d(o,i),d(o,c),d(c,a),d(c,u),d(c,h),d(c,$),d(c,x),d(c,k),d(c,L),d(c,A),d(c,j),d(c,P),d(c,T),d(c,W),d(c,E),d(c,O),y(c,t[4]),d(e,S),d(e,z),d(z,N),d(z,q),d(e,M),d(e,D),d(D,H),d(D,R),d(e,K),d(e,J),d(J,Y),_(Y,t[0]),d(J,Q),d(e,V),d(e,X),d(X,Z),_(Z,t[1]),d(X,tt),d(e,et),d(e,nt);for(let t=0;t<it.length;t+=1)it[t].m(nt,null);at&&at.m(nt,null),st=!0,lt||(ot=[b(r,"input",t[8]),b(r,"keydown",t[7]),b(c,"change",t[9]),b(N,"click",t[5]),b(H,"click",t[6]),b(Y,"input",t[10]),b(Z,"input",t[11])],lt=!0)},p(t,[e]){if(8&e&&r.value!==t[3]&&_(r,t[3]),16&e&&y(c,t[4]),1&e&&_(Y,t[0]),2&e&&_(Z,t[1]),4&e){let n;for(rt=t[2],n=0;n<rt.length;n+=1){const s=Zt(t,rt,n);it[n]?(it[n].p(s,e),B(it[n],1)):(it[n]=ee(s),it[n].c(),B(it[n],1),it[n].m(nt,null))}for(U(),n=rt.length;n<it.length;n+=1)ct(n);F(),rt.length?at&&(at.d(1),at=null):at||(at=te(),at.c(),at.m(nt,null))}},i(t){if(!st){for(let t=0;t<rt.length;t+=1)B(it[t]);st=!0}},o(t){it=it.filter(Boolean);for(let t=0;t<it.length;t+=1)I(it[t]);st=!1},d(t){t&&p(e),g(it,t),at&&at.d(),lt=!1,s(ot)}}}function se(t,e,n){let s=null;jt.subscribe((t=>s=function(t){const e=new Ut;if(null===t)return e;for(let n=1;n<=15;n++){const s=t[n],l={};Object.keys(s).forEach((t=>{const e=It(t);l.hasOwnProperty(e)||(l[e]=[]),l[e].push(t)})),e[n]=Object.entries(l).sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})).map((t=>({letters:t[0],words:t[1].sort()})))}return e}(t)));let l,o,r=[],i="",c=3,a="",u="";function h(){s||alert("Word list not downloaded yet, please try again"),n(2,r=Ft(i,s,c,l,o))}return t.$$.update=()=>{1&t.$$.dirty&&(l=a.split("\n").filter((t=>""!==t))),2&t.$$.dirty&&(o=u.split("\n").filter((t=>""!==t)))},[a,u,r,i,c,function(){s||alert("Word list not downloaded yet, please try again"),n(2,r=function(t,e,n=3,s=[]){const l=It(t);let o=[];for(let t of function*(t){for(let e=1;e<1<<t.length;e++){let n="";for(let s=0;s<t.length;s++)e&1<<s&&(n+=t[s]);yield n}}(l)){if(t.length<n)continue;const s=e[t.length].find((e=>e.letters===t));void 0!==s&&(o=o.concat(s.words))}return o=[...new Set(o)],o.filter((e=>e!==t&&-1===s.indexOf(e))).map((t=>[[t]]))}(i,s,c,l))},h,function(t){"Enter"===t.key&&h()},function(){i=this.value,n(3,i)},function(){c=x(this),n(4,c)},function(){a=this.value,n(0,a)},function(){u=this.value,n(1,u)}]}class le extends Q{constructor(t){super(),Y(this,t,se,ne,o,{})}}function oe(e){let n,s,l;return{c(){n=m("button"),n.textContent="Add to grid"},m(t,o){f(t,n,o),s||(l=b(n,"click",e[4]),s=!0)},p:t,d(t){t&&p(n),s=!1,l()}}}function re(e){let n,s,l;return{c(){n=m("button"),n.textContent="Find possibilities"},m(t,o){f(t,n,o),s||(l=b(n,"click",e[5]),s=!0)},p:t,d(t){t&&p(n),s=!1,l()}}}function ie(e){let n,l,o,r,i,c,a,u,h,g,y,x,k,L,A,j,P,T,W,E=e[0].answerPosition.number+"",O=ce(e[0]),G=e[0].answerPosition.letters+"",S=e[0].answerPosition.letters.split("").some(ae)&&e[0].answerPosition.letters.split("").some(ue),z=O&&oe(e),N=S&&re(e);return{c(){n=m("div"),l=m("div"),o=w(E),r=v(),i=m("textarea"),c=v(),a=m("div"),u=m("label"),h=w("Answer: "),g=m("input"),y=v(),z&&z.c(),x=v(),k=m("div"),L=m("span"),A=w("Grid letters: "),j=w(G),P=v(),N&&N.c(),C(i,"class","svelte-ahn0jc"),C(l,"class","clue-row svelte-ahn0jc"),C(g,"class","svelte-ahn0jc"),C(a,"class","clue-row svelte-ahn0jc"),C(k,"class","clue-row svelte-ahn0jc"),C(n,"class","clue-container content-section svelte-ahn0jc")},m(t,s){f(t,n,s),d(n,l),d(l,o),d(l,r),d(l,i),_(i,e[0].clue),d(n,c),d(n,a),d(a,u),d(u,h),d(u,g),_(g,e[0].answer),d(a,y),z&&z.m(a,null),d(n,x),d(n,k),d(k,L),d(L,A),d(L,j),d(k,P),N&&N.m(k,null),T||(W=[b(i,"input",e[2]),b(i,"blur",rt.refresh),b(g,"input",e[3]),b(g,"blur",rt.refresh)],T=!0)},p(t,[e]){1&e&&E!==(E=t[0].answerPosition.number+"")&&$(o,E),1&e&&_(i,t[0].clue),1&e&&g.value!==t[0].answer&&_(g,t[0].answer),1&e&&(O=ce(t[0])),O?z?z.p(t,e):(z=oe(t),z.c(),z.m(a,null)):z&&(z.d(1),z=null),1&e&&G!==(G=t[0].answerPosition.letters+"")&&$(j,G),1&e&&(S=t[0].answerPosition.letters.split("").some(ae)&&t[0].answerPosition.letters.split("").some(ue)),S?N?N.p(t,e):(N=re(t),N.c(),N.m(k,null)):N&&(N.d(1),N=null)},i:t,o:t,d(t){t&&p(n),z&&z.d(),N&&N.d(),T=!1,s(W)}}}function ce(t){return t.answerPosition.letters.toLowerCase()!==t.strippedAnswer.toLowerCase()&&t.answerPosition.matchesAnswer(t.strippedAnswer)}const ae=t=>"_"===t,ue=t=>"_"!==t;function he(t,e,n){let s;r(t,Tt,(t=>n(1,s=t)));let{state:l}=e;return t.$$set=t=>{"state"in t&&n(0,l=t.state)},[l,s,function(){l.clue=this.value,n(0,l)},function(){l.answer=this.value,n(0,l)},()=>rt.setGridLetters(l.answerPosition.row,l.answerPosition.column,l.answerPosition.direction,l.strippedAnswer),()=>{var t,e;t=Tt,s.pattern=l.answerPosition.letters.replaceAll(V,"."),e=s,t.set(e),Tt.findWords()}]}class de extends Q{constructor(t){super(),Y(this,t,he,ie,o,{state:0})}}function fe(t,e,n){const s=t.slice();return s[7]=e[n],s}function pe(t){let e,n,s,l,o,r=t[7].number+"",i="a"===t[7].direction?"across":"down";return{c(){e=m("option"),n=w(r),s=v(),l=w(i),e.__value=o=t[7],e.value=e.__value},m(t,o){f(t,e,o),d(e,n),d(e,s),d(e,l)},p(t,s){1&s&&r!==(r=t[7].number+"")&&$(n,r),1&s&&i!==(i="a"===t[7].direction?"across":"down")&&$(l,i),1&s&&o!==(o=t[7])&&(e.__value=o,e.value=e.__value)},d(t){t&&p(e)}}}function ge(e){let n,l,o,r,i,c,a,u,h,$,x,k,L,A,j,P,T,W,E,O=e[0].possiblePositions,S=[];for(let t=0;t<O.length;t+=1)S[t]=pe(fe(e,O,t));return{c(){n=m("div"),l=m("div"),o=w("? "),r=m("textarea"),i=v(),c=m("div"),a=m("label"),u=w("Answer: "),h=m("input"),$=v(),x=m("div"),k=m("span"),L=w("Assign to:\n            "),A=m("select"),j=m("option"),j.textContent="--------";for(let t=0;t<S.length;t+=1)S[t].c();P=v(),T=m("button"),T.textContent="Delete",C(r,"class","svelte-ahn0jc"),C(l,"class","clue-row svelte-ahn0jc"),C(h,"class","svelte-ahn0jc"),C(c,"class","clue-row svelte-ahn0jc"),j.__value=null,j.value=j.__value,void 0===e[1]&&G((()=>e[6].call(A))),C(x,"class","clue-row svelte-ahn0jc"),C(n,"class","clue-container content-section svelte-ahn0jc")},m(t,s){f(t,n,s),d(n,l),d(l,o),d(l,r),_(r,e[0].clue),d(n,i),d(n,c),d(c,a),d(a,u),d(a,h),_(h,e[0].answer),d(n,$),d(n,x),d(x,k),d(k,L),d(k,A),d(A,j);for(let t=0;t<S.length;t+=1)S[t].m(A,null);y(A,e[1]),d(x,P),d(x,T),W||(E=[b(r,"input",e[4]),b(r,"blur",rt.refresh),b(h,"input",e[5]),b(h,"blur",rt.refresh),b(A,"change",e[6]),b(A,"change",e[2]),b(T,"click",e[3])],W=!0)},p(t,[e]){if(1&e&&_(r,t[0].clue),1&e&&h.value!==t[0].answer&&_(h,t[0].answer),1&e){let n;for(O=t[0].possiblePositions,n=0;n<O.length;n+=1){const s=fe(t,O,n);S[n]?S[n].p(s,e):(S[n]=pe(s),S[n].c(),S[n].m(A,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=O.length}3&e&&y(A,t[1])},i:t,o:t,d(t){t&&p(n),g(S,t),W=!1,s(E)}}}function me(t,e,n){let s,{state:l}=e;return t.$$set=t=>{"state"in t&&n(0,l=t.state)},[l,s,function(){rt.assignClue(s,l),n(1,s=null)},function(){rt.deleteClue(l)},function(){l.clue=this.value,n(0,l)},function(){l.answer=this.value,n(0,l)},function(){s=x(this),n(1,s),n(0,l)}]}class we extends Q{constructor(t){super(),Y(this,t,me,ge,o,{state:0})}}function ve(t,e,n){const s=t.slice();return s[1]=e[n],s}function be(t,e,n){const s=t.slice();return s[1]=e[n],s}function Ce(t,e,n){const s=t.slice();return s[1]=e[n],s}function $e(t){let e,n;return e=new de({props:{state:t[1]}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.state=t[1]),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function _e(t){let e,n;return e=new de({props:{state:t[1]}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.state=t[1]),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function ye(t){let e,n,s,l,o=t[0].unassignedClues,r=[];for(let e=0;e<o.length;e+=1)r[e]=xe(ve(t,o,e));const i=t=>I(r[t],1,1,(()=>{r[t]=null}));return{c(){e=m("div"),n=m("h3"),n.textContent="Unassigned",s=v();for(let t=0;t<r.length;t+=1)r[t].c();C(n,"class","svelte-em5v8c"),C(e,"class","content-section")},m(t,o){f(t,e,o),d(e,n),d(e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);l=!0},p(t,n){if(1&n){let s;for(o=t[0].unassignedClues,s=0;s<o.length;s+=1){const l=ve(t,o,s);r[s]?(r[s].p(l,n),B(r[s],1)):(r[s]=xe(l),r[s].c(),B(r[s],1),r[s].m(e,null))}for(U(),s=o.length;s<r.length;s+=1)i(s);F()}},i(t){if(!l){for(let t=0;t<o.length;t+=1)B(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)I(r[t]);l=!1},d(t){t&&p(e),g(r,t)}}}function xe(t){let e,n;return e=new we({props:{state:t[1]}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.state=t[1]),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function ke(t){let e,n,s,l,o,r,i,c,a,u,h,w,b,$=t[0].acrossClues,_=[];for(let e=0;e<$.length;e+=1)_[e]=$e(Ce(t,$,e));const y=t=>I(_[t],1,1,(()=>{_[t]=null}));let x=t[0].downClues,k=[];for(let e=0;e<x.length;e+=1)k[e]=_e(be(t,x,e));const L=t=>I(k[t],1,1,(()=>{k[t]=null}));let A=t[0].unassignedClues.length>0&&ye(t);return{c(){e=m("div"),n=m("h2"),n.textContent="Clues and Answers",s=v(),l=m("div"),o=m("div"),r=m("h3"),r.textContent="Across",i=v();for(let t=0;t<_.length;t+=1)_[t].c();c=v(),a=m("div"),u=m("h3"),u.textContent="Down",h=v();for(let t=0;t<k.length;t+=1)k[t].c();w=v(),A&&A.c(),C(r,"class","svelte-em5v8c"),C(o,"class","content-section"),C(u,"class","svelte-em5v8c"),C(a,"class","content-section"),C(l,"class","column-container svelte-em5v8c"),C(e,"class","content-block")},m(t,p){f(t,e,p),d(e,n),d(e,s),d(e,l),d(l,o),d(o,r),d(o,i);for(let t=0;t<_.length;t+=1)_[t].m(o,null);d(l,c),d(l,a),d(a,u),d(a,h);for(let t=0;t<k.length;t+=1)k[t].m(a,null);d(l,w),A&&A.m(l,null),b=!0},p(t,[e]){if(1&e){let n;for($=t[0].acrossClues,n=0;n<$.length;n+=1){const s=Ce(t,$,n);_[n]?(_[n].p(s,e),B(_[n],1)):(_[n]=$e(s),_[n].c(),B(_[n],1),_[n].m(o,null))}for(U(),n=$.length;n<_.length;n+=1)y(n);F()}if(1&e){let n;for(x=t[0].downClues,n=0;n<x.length;n+=1){const s=be(t,x,n);k[n]?(k[n].p(s,e),B(k[n],1)):(k[n]=_e(s),k[n].c(),B(k[n],1),k[n].m(a,null))}for(U(),n=x.length;n<k.length;n+=1)L(n);F()}t[0].unassignedClues.length>0?A?(A.p(t,e),1&e&&B(A,1)):(A=ye(t),A.c(),B(A,1),A.m(l,null)):A&&(U(),I(A,1,1,(()=>{A=null})),F())},i(t){if(!b){for(let t=0;t<$.length;t+=1)B(_[t]);for(let t=0;t<x.length;t+=1)B(k[t]);B(A),b=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)I(_[t]);k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)I(k[t]);I(A),b=!1},d(t){t&&p(e),g(_,t),g(k,t),A&&A.d()}}}function Le(t,e,n){let{state:s}=e;return t.$$set=t=>{"state"in t&&n(0,s=t.state)},[s]}class Ae extends Q{constructor(t){super(),Y(this,t,Le,ke,o,{state:0})}}function je(t,e,n){const s=t.slice();return s[1]=e[n],s}function Pe(t,e,n){const s=t.slice();return s[1]=e[n],s}function Te(t){let e,n,s,l,o,r,i,c=t[1].answerPosition.number+"",a=t[1].clue+"",u=(t[1].answerLength||"?")+"";return{c(){e=m("li"),n=w(c),s=w(". "),l=w(a),o=w(" ("),r=w(u),i=w(")")},m(t,c){f(t,e,c),d(e,n),d(e,s),d(e,l),d(e,o),d(e,r),d(e,i)},p(t,e){1&e&&c!==(c=t[1].answerPosition.number+"")&&$(n,c),1&e&&a!==(a=t[1].clue+"")&&$(l,a),1&e&&u!==(u=(t[1].answerLength||"?")+"")&&$(r,u)},d(t){t&&p(e)}}}function We(t){let e,n,s,l,o,r,i,c=t[1].answerPosition.number+"",a=t[1].clue+"",u=(t[1].answerLength||"?")+"";return{c(){e=m("li"),n=w(c),s=w(". "),l=w(a),o=w(" ("),r=w(u),i=w(")")},m(t,c){f(t,e,c),d(e,n),d(e,s),d(e,l),d(e,o),d(e,r),d(e,i)},p(t,e){1&e&&c!==(c=t[1].answerPosition.number+"")&&$(n,c),1&e&&a!==(a=t[1].clue+"")&&$(l,a),1&e&&u!==(u=(t[1].answerLength||"?")+"")&&$(r,u)},d(t){t&&p(e)}}}function Ee(e){let n,s,l,o,r,i,c,a,u=e[0].acrossClues,h=[];for(let t=0;t<u.length;t+=1)h[t]=Te(Pe(e,u,t));let w=e[0].downClues,b=[];for(let t=0;t<w.length;t+=1)b[t]=We(je(e,w,t));return{c(){n=m("div"),s=m("h2"),s.textContent="Across",l=v(),o=m("ul");for(let t=0;t<h.length;t+=1)h[t].c();r=v(),i=m("h2"),i.textContent="Down",c=v(),a=m("ul");for(let t=0;t<b.length;t+=1)b[t].c();C(s,"class","svelte-1h04fm0"),C(o,"class","svelte-1h04fm0"),C(i,"class","svelte-1h04fm0"),C(a,"class","svelte-1h04fm0"),C(n,"class","clue-container svelte-1h04fm0")},m(t,e){f(t,n,e),d(n,s),d(n,l),d(n,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);d(n,r),d(n,i),d(n,c),d(n,a);for(let t=0;t<b.length;t+=1)b[t].m(a,null)},p(t,[e]){if(1&e){let n;for(u=t[0].acrossClues,n=0;n<u.length;n+=1){const s=Pe(t,u,n);h[n]?h[n].p(s,e):(h[n]=Te(s),h[n].c(),h[n].m(o,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=u.length}if(1&e){let n;for(w=t[0].downClues,n=0;n<w.length;n+=1){const s=je(t,w,n);b[n]?b[n].p(s,e):(b[n]=We(s),b[n].c(),b[n].m(a,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=w.length}},i:t,o:t,d(t){t&&p(n),g(h,t),g(b,t)}}}function Oe(t,e,n){let{clueState:s}=e;return t.$$set=t=>{"clueState"in t&&n(0,s=t.clueState)},[s]}class Ge extends Q{constructor(t){super(),Y(this,t,Oe,Ee,o,{clueState:0})}}function Se(t){let e;return{c(){e=m("span"),e.textContent="Help",C(e,"slot","linkText")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function ze(t){let e;return{c(){e=m("span"),e.innerHTML='<h2>Help</h2> \n        <div class="content-section"><h3>Grid</h3> \n            <p>Click in the grid to select a cell. You can use the arrow keys to change the selected cell.<br/>\n            Type to enter letters and use space to toggle cells between black/white.<br/>\n            Clue numbers will update automatically.<br/>\n            The size dropdown will change the size of the grid up to a maximum of 15x15</p></div> \n\n        <div class="content-section"><h3>Clues and Answers</h3> \n            <p>Entries are automatically created for all answers in the grid.<br/>\n            If an answer is entered that doesn&#39;t fit that space in the grid, or the grid changes so the answer no longer fits,\n            the clue will be moved to the &quot;Unassigned&quot; section. Unassigned clues have a dropdown to assign them to any space in\n            grid where the answer will fit.</p></div> \n\n        <div class="content-section"><h3>Find Words That Fit</h3> \n            <p>This tool searches for words that are compatible with with one or more fixed letters</p></div> \n\n        <div class="content-section"><h3>Anagrams</h3> \n            <h4>Single Words</h4> \n            <p>This search will find single words that can be made using some or all of the given letters. This can be useful\n            for finding interesting words as the results don&#39;t contain any repetition.</p> \n            <h4>Full Anagrams</h4> \n            <p>This search returns sets of words using all of the given letters. The included and excluded word boxes can be\n            used to make sure that the search results do or don&#39;t contain specific words.<br/>\n            If a subset of letters can make multiple words then those words are grouped together into a single search result\n            e.g. &quot;actor&quot; contains a single result for &quot;cor/ocr/roc/orc&quot; + &quot;at/ta&quot; instead of eight results</p></div> \n\n        <div class="content-section"><h3>Dictionary</h3> \n            <p>The dictionary used on this site contains abbreviations and other strange words that you may not want to use.\n            Unfortunately finding a free, open source word list is tricky and this one seems overall pretty good. Please see\n            the credits page for more information on the word list.</p></div> \n\n        <div class="content-section"><h3>External Links</h3> \n            <p>Search result words are automatically linked to <a href="https://www.dictionary.com" target="_blank">www.dictionary.com</a>.\n            Note that no checks are made before creating the link, so it&#39;s possible that Dictionary.com won&#39;t actually have a\n            definition.</p></div> \n\n        <div class="content-section"><h3>Printing</h3> \n            <p>Printing the page should just print the grid and clues ready to solve (use the &quot;Hide answers&quot; checkbox to clear the grid).</p></div> \n\n        <div class="content-section"><h3>Development</h3> \n            <p>This site is still under development so things may break from time to time please feel free to raise an \n            <a href="https://github.com/DanCorder/CrosswordCreator/issues" target="_blank">issue on github</a>.\n            If you have a great idea for a feature, or comments on the existing features you can also raise an issue.\n            The <a href="https://github.com/DanCorder/CrosswordCreator" target="_blank">readme</a> for this project \n            includes a list possible future features if you&#39;re interested.</p></div>',C(e,"slot","content")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Ne(t){let e,n;return e=new pt({props:{$$slots:{content:[ze],linkText:[Se]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(t,s){R(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}class qe extends Q{constructor(t){super(),Y(this,t,null,Ne,o,{})}}function Me(t){let e,n,l,o,r,i,c,a,u,h,g,$,_,y,x,k,L,A,j,P,T,W,E,O,G,S,z,N,q,M,D,U,F,J,Y,Q,V,X,Z,tt,et;return u=new qe({}),g=new vt({}),O=new At({props:{state:t[0].grid}}),N=new Ge({props:{clueState:t[0].clues}}),D=new Dt({}),Q=new Ae({props:{state:t[0].clues}}),X=new le({}),{c(){e=m("div"),n=m("div"),n.innerHTML="<h1>Under Construction</h1>\n        This site is still under active development so saved files may become incompatible without warning. Use at your own risk.<br/>",l=v(),o=m("div"),r=m("h1"),r.textContent="Cryptic Crossword Creator",i=v(),c=m("div"),a=m("div"),H(u.$$.fragment),h=v(),H(g.$$.fragment),$=v(),_=m("div"),y=m("div"),x=m("button"),x.textContent="Save",k=v(),L=m("div"),A=w("Load "),j=m("input"),P=v(),T=m("div"),W=m("div"),E=m("div"),H(O.$$.fragment),G=v(),S=m("br"),z=v(),H(N.$$.fragment),q=v(),M=m("div"),H(D.$$.fragment),U=v(),F=m("div"),F.innerHTML='<h2>External Tools</h2> \n                <ul><li><a href="https://www.wordplays.com/anagrammer" target="_blank">Anagrams</a></li> \n                    <li><a href="https://www.dictionary.com/" target="_blank">Free dictionary</a></li> \n                    <li><a href="https://www.thesaurus.com/" target="_blank">Free thesaurus</a></li> \n                    <li><a href="https://puzzling.stackexchange.com/questions/45984/cryptic-clue-guide" target="_blank">Different clue types 1</a></li> \n                    <li><a href="https://en.wikipedia.org/wiki/Cryptic_crossword#Types_of_cryptic_clues" target="_blank">Different clue types 2</a></li> \n                    <li><a href="https://en.wikipedia.org/wiki/Crossword_abbreviations" target="_blank">Clues for letters</a></li></ul>',J=v(),Y=m("div"),H(Q.$$.fragment),V=v(),H(X.$$.fragment),C(n,"class","content-block dont-print"),C(r,"class","svelte-h1jsfw"),C(a,"class","content-section"),C(y,"class","content-section"),C(j,"type","file"),C(j,"id","file-selector"),C(L,"class","content-section"),C(_,"class","content-section file-section svelte-h1jsfw"),C(c,"class","header-links dont-print svelte-h1jsfw"),C(o,"class","content-block header dont-print svelte-h1jsfw"),C(E,"class","content-block"),C(M,"class","content-block dont-print"),C(F,"class","content-block dont-print"),C(W,"class","left-column svelte-h1jsfw"),C(Y,"class","right-column dont-print svelte-h1jsfw"),C(T,"class","tools svelte-h1jsfw"),C(e,"class","main")},m(s,p){f(s,e,p),d(e,n),d(e,l),d(e,o),d(o,r),d(o,i),d(o,c),d(c,a),R(u,a,null),d(a,h),R(g,a,null),d(c,$),d(c,_),d(_,y),d(y,x),d(_,k),d(_,L),d(L,A),d(L,j),d(e,P),d(e,T),d(T,W),d(W,E),R(O,E,null),d(E,G),d(E,S),d(E,z),R(N,E,null),d(W,q),d(W,M),R(D,M,null),d(W,U),d(W,F),d(T,J),d(T,Y),R(Q,Y,null),d(Y,V),R(X,Y,null),Z=!0,tt||(et=[b(x,"click",t[1]),b(j,"change",t[2])],tt=!0)},p(t,[e]){const n={};1&e&&(n.state=t[0].grid),O.$set(n);const s={};1&e&&(s.clueState=t[0].clues),N.$set(s);const l={};1&e&&(l.state=t[0].clues),Q.$set(l)},i(t){Z||(B(u.$$.fragment,t),B(g.$$.fragment,t),B(O.$$.fragment,t),B(N.$$.fragment,t),B(D.$$.fragment,t),B(Q.$$.fragment,t),B(X.$$.fragment,t),Z=!0)},o(t){I(u.$$.fragment,t),I(g.$$.fragment,t),I(O.$$.fragment,t),I(N.$$.fragment,t),I(D.$$.fragment,t),I(Q.$$.fragment,t),I(X.$$.fragment,t),Z=!1},d(t){t&&p(e),K(u),K(g),K(O),K(N),K(D),K(Q),K(X),tt=!1,s(et)}}}function De(t,e,n){let s;return r(t,rt,(t=>n(0,s=t))),[s,function(){const t="crossword.json",e=s.serialize(),n=new Blob([e],{type:"application/json;charset=utf-8;"});if(window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,t);else{const e=window.document.createElement("a");e.style.display="none",e.href=window.URL.createObjectURL(n),e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(e.href)}},function(t){t.target.files[0].text().then((t=>{rt.set(new st(t))})).catch((t=>alert("Upload failed: "+t)))}]}return new class extends Q{constructor(t){super(),Y(this,t,De,Me,o,{})}}({target:document.body})}();
