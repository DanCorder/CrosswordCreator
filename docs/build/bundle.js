var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,n,s){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function i(e,t,n,s){if(e){const l=c(e,t,n,s);return e[0](l)}}function c(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e,t,n,s){if(e[2]&&s){const l=e[2](s(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|l[s];return e}return t.dirty|l}return t.dirty}function a(e,t,n,s,l,r){if(l){const o=c(t,n,s,r);e.p(o,l)}}function h(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function d(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function v(){return w(" ")}function b(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function y(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function x(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let k;function L(e){k=e}function A(e){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.before_update.push(e)}const j=[],P=[],T=[],W=[],E=Promise.resolve();let O=!1;function G(e){T.push(e)}let S=!1;const z=new Set;function q(){if(!S){S=!0;do{for(let e=0;e<j.length;e+=1){const t=j[e];L(t),N(t.$$)}for(L(null),j.length=0;P.length;)P.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];z.has(t)||(z.add(t),t())}T.length=0}while(j.length);for(;W.length;)W.pop()();O=!1,S=!1,z.clear()}}function N(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}const M=new Set;let D;function F(){D={r:0,c:[],p:D}}function U(){D.r||s(D.c),D=D.p}function B(e,t){e&&e.i&&(M.delete(e),e.i(t))}function I(e,t,n,s){if(e&&e.o){if(M.has(e))return;M.add(e),D.c.push((()=>{M.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}function R(e){e&&e.c()}function H(e,n,r,o){const{fragment:i,on_mount:c,on_destroy:u,after_update:a}=e.$$;i&&i.m(n,r),o||G((()=>{const n=c.map(t).filter(l);u?u.push(...n):s(n),e.$$.on_mount=[]})),a.forEach(G)}function K(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(j.push(e),O||(O=!0,E.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,l,r,o,i,c,u,a=[-1]){const h=k;L(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:l.target||h.$$.root};u&&u(d.root);let f=!1;if(d.ctx=r?r(t,l.props||{},((e,n,...s)=>{const l=s.length?s[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=l)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](l),f&&J(t,e)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!o&&o(d.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();l.intro&&B(t.$$.fragment),H(t,l.target,l.anchor,l.customElement),q()}L(h)}class Q{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const V="_";class X{constructor(e=null){e&&(this.row=e.r,this.column=e.c,this.number=e.n,this.direction=e.d,this.letters=e.a)}toObject(){return{r:this.row,c:this.column,n:this.number,d:this.direction,a:this.letters}}matchesAnswer(e){if(this.letters.length!==e.length)return!1;let t=!0;return[...this.letters].forEach(((n,s)=>{n!==V&&n.toLowerCase()!==e[s].toLowerCase()&&(t=!1)})),t}}class Z{constructor(e=null){this.clue="",this.answer="",this.answerPosition=null,this.possiblePositions=[],e&&(this.clue=e.c,this.answer=e.a,this.answerPosition=null==e.p?null:new X(e.p))}toObject(){return{c:this.clue,a:this.answer,p:null===this.answerPosition?null:this.answerPosition.toObject()}}get answerLength(){const e=[];return[...this.answer].forEach((t=>{" "===t?e.push(","):"-"===t?e.push("-"):0===e.length||","===e[e.length-1]||"-"===e[e.length-1]?e.push(1):e[e.length-1]=e[e.length-1]+1})),e.join("")}get strippedAnswer(){return this.answer.replaceAll(/[- ]/g,"")}}class ee{constructor(e=null){this.acrossClues=[],this.downClues=[],this.unassignedClues=[],e&&(e.a.forEach((e=>this.acrossClues.push(new Z(e)))),e.d.forEach((e=>this.downClues.push(new Z(e)))),e.u.forEach((e=>this.unassignedClues.push(new Z(e)))))}toObject(){return{a:this.acrossClues.map((e=>e.toObject())),d:this.downClues.map((e=>e.toObject())),u:this.unassignedClues.map((e=>e.toObject()))}}assignClue(e,t){const n="a"===e.direction?this.acrossClues:this.downClues,s=n.findIndex((t=>t.answerPosition.number===e.number));if(-1!==s){const e=n[s];n.splice(s,1),e.answerPosition=null,(e.answer||e.clue)&&this.unassignedClues.push(e)}const l=this.unassignedClues.indexOf(t);this.unassignedClues.splice(l,1),t.answerPosition=e,n.push(t),this.sortClues()}deleteClue(e){const t=this.unassignedClues.indexOf(e);this.unassignedClues.splice(t,1)}syncToGrid(e){const t=e.filter((e=>"a"===e.direction)),n=e.filter((e=>"d"===e.direction)),s=[],l=[],r=[...this.unassignedClues];t.forEach((e=>this.updateClues(e,this.acrossClues,s))),r.push(...this.acrossClues),n.forEach((e=>this.updateClues(e,this.downClues,l))),r.push(...this.downClues),this.acrossClues=s,this.downClues=l,this.unassignedClues=r.filter((e=>""!==e.clue.trim()||""!==e.answer.trim())),this.unassignedClues.forEach((t=>{t.answerPosition=null,t.possiblePositions=this.findPossiblePositions(t.strippedAnswer,e)})),this.sortClues()}findPossiblePositions(e,t){const n=[];return t.forEach((t=>{t.matchesAnswer(e)&&n.push({direction:t.direction,number:t.number})})),n}updateClues(e,t,n){const s=t.findIndex((t=>this.isMatch(e,t)));let l;l=-1===s?new Z:t.splice(s,1)[0],l.answerPosition=e,n.push(l)}isMatch(e,t){return e.column===t.answerPosition.column&&e.row===t.answerPosition.row&&(""===t.answer.trim()||e.matchesAnswer(t.strippedAnswer))}sortClues(){this.acrossClues=this.acrossClues.sort(((e,t)=>e.answerPosition.number-t.answerPosition.number)),this.downClues=this.downClues.sort(((e,t)=>e.answerPosition.number-t.answerPosition.number))}}class te{constructor(e=null){this.isWhite=!0,this.cellNumber=null,this.answerLetter="",e&&(this.isWhite=e.w,this.cellNumber=e.n,this.answerLetter=e.l)}toObject(){return{w:this.isWhite,n:this.cellNumber,l:this.answerLetter}}}class ne{constructor(e=null){this.cells=[],e?(e.forEach((e=>{const t=[];e.forEach((e=>t.push(new te(e)))),this.cells.push(t)})),this.findAnswers()):(this.resizeGrid(11),this.numberCells())}get size(){return this.cells.length}toObject(){return this.cells.map((e=>e.map((e=>e.toObject()))))}toggleCell(e,t){return this.cells[e][t].isWhite=!this.cells[e][t].isWhite,this.numberCells(),this}setCellLetter(e,t,n){if(n.length>1)throw"Can't put more than one letter in a cell";if(!this.cells[e][t].isWhite)throw"Can't set a letter on a black square";return this.cells[e][t].answerLetter=n,this}sizeGrid(e){return this.resizeGrid(e),this.numberCells(),this}setLetters(e,t,n,s){const l="a"===n?(e,t)=>({row:e,column:t+1}):(e,t)=>({row:e+1,column:t});let r={row:e,column:t};return[...s.toUpperCase()].forEach((e=>{this.cells[r.row][r.column].answerLetter=e,r=l(r.row,r.column)})),this}resizeGrid(e){const t=this.cells,n=t.length;if(n===e)return this;if(n<e)for(let s=0;s<e;s++){const l=s>=n,r=l?[]:t[s];for(let t=l?0:n;t<e;t++)r.push(new te);l&&this.cells.push(r)}else{t.splice(e,n-e);for(let s=0;s<e;s++)t[s].splice(e,n-e)}}findAnswers(){const e=this.cells,t=e.length,n=[];for(let s=0;s<t;s++)for(let l=0;l<t;l++){const r=e[s][l];if(r.cellNumber){if(l<t-1&&e[s][l+1].isWhite&&(0===l||!e[s][l-1].isWhite)){let o=r.answerLetter?r.answerLetter:V;for(let n=l+1;n<t;n++){const t=e[s][n];if(!t.isWhite)break;t.answerLetter?o+=t.answerLetter:o+=V}const i=new X;i.row=s,i.column=l,i.number=r.cellNumber,i.direction="a",i.letters=o,n.push(i)}if(s<t-1&&e[s+1][l].isWhite&&(0===s||!e[s-1][l].isWhite)){let o=r.answerLetter?r.answerLetter:V;for(let n=s+1;n<t;n++){const t=e[n][l];if(!t.isWhite)break;t.answerLetter?o+=t.answerLetter:o+=V}const i=new X;i.row=s,i.column=l,i.number=r.cellNumber,i.direction="d",i.letters=o,n.push(i)}}}return n}numberCells(){const e=this.cells,t=e.length;let n=1;for(let s=0;s<t;s++)for(let l=0;l<t;l++)e[s][l].isWhite?(0!==s&&e[s-1][l].isWhite||s===t-1||!e[s+1][l].isWhite)&&(0!==l&&e[s][l-1].isWhite||l===t-1||!e[s][l+1].isWhite)?e[s][l].cellNumber=null:(e[s][l].cellNumber=n,n++):e[s][l].cellNumber=null}}class se{constructor(e=null){this.grid=new ne,this.clues=new ee,e?this.hydrate(e):this.syncCluesAndGrid()}serialize(){return JSON.stringify(this.toObject())}assignClue(e,t){const n=this.grid.findAnswers().find((t=>t.direction===e.direction&&t.number===e.number));return this.clues.assignClue(n,t),this}deleteClue(e){return this.clues.deleteClue(e),this}refresh(){return this.syncCluesAndGrid(),this}toggleCell(e,t){return this.grid.toggleCell(e,t),this.syncCluesAndGrid(),this}setCellLetter(e,t,n){return this.grid.setCellLetter(e,t,n),this.syncCluesAndGrid(),this}sizeGrid(e){return this.grid.sizeGrid(e),this.syncCluesAndGrid(),this}setGridLetters(e,t,n,s){return this.grid.setLetters(e,t,n,s),this.syncCluesAndGrid(),this}setClueText(e,t,n){return("a"===t?this.clues.acrossClues:this.clues.downClues).find((t=>t.answerPosition.number===e)).clue=n,this}setAnswerText(e,t,n){return("a"===t?this.clues.acrossClues:this.clues.downClues).find((t=>t.answerPosition.number===e)).answer=n,this.syncCluesAndGrid(),this}syncCluesAndGrid(){return this.clues.syncToGrid(this.grid.findAnswers()),this}toObject(){return{clues:this.clues.toObject(),grid:this.grid.toObject()}}hydrate(e){const t=JSON.parse(e);return this.clues=new ee(t.clues),this.grid=new ne(t.grid),this.clues.syncToGrid(this.grid.findAnswers()),this}}const le=[];function re(t,n=e){let s;const l=new Set;function o(e){if(r(t,e)&&(t=e,s)){const e=!le.length;for(const e of l)e[1](),le.push(e,t);if(e){for(let e=0;e<le.length;e+=2)le[e][0](le[e+1]);le.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,i=e){const c=[r,i];return l.add(c),1===l.size&&(s=n(o)||e),r(t),()=>{l.delete(c),0===l.size&&(s(),s=null)}}}}const oe=function(){const{subscribe:e,set:t,update:n}=re(new se);return{subscribe:e,set:t,assignClue:(e,t)=>n((n=>n.assignClue(e,t))),deleteClue:e=>n((t=>t.deleteClue(e))),refresh:()=>n((e=>e.refresh())),setGridLetters:(e,t,s,l)=>n((n=>n.setGridLetters(e,t,s,l))),toggleCell:(e,t)=>n((n=>n.toggleCell(e,t))),setCellLetter:(e,t,s)=>n((n=>n.setCellLetter(e,t,s))),sizeGrid:e=>n((t=>t.sizeGrid(e)))}}(),ie=e=>({}),ce=e=>({}),ue=e=>({}),ae=e=>({});function he(e){let t,n,s,l,r,o,c;const g=e[3].content,$=i(g,e,e[2],ce),_=$||function(e){let t;return{c(){t=w("Hello World!")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}();return{c(){t=m("div"),n=m("div"),s=m("p"),s.textContent="Close",l=v(),_&&_.c(),C(s,"class","link close svelte-1sq436e"),C(n,"class","content-block svelte-1sq436e"),C(t,"class","overlay svelte-1sq436e")},m(i,u){f(i,t,u),d(t,n),d(n,s),d(n,l),_&&_.m(n,null),r=!0,o||(c=b(s,"click",e[1]),o=!0)},p(e,t){$&&$.p&&(!r||4&t)&&a($,g,e,e[2],r?u(g,e[2],t,ie):h(e[2]),ce)},i(e){r||(B(_,e),r=!0)},o(e){I(_,e),r=!1},d(e){e&&p(t),_&&_.d(e),o=!1,c()}}}function de(e){let t,n,s,l,r,o;const c=e[3].linkText,d=i(c,e,e[2],ae),g=d||function(e){let t;return{c(){t=w("Open")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}();let $=e[0]&&he(e);return{c(){t=m("span"),g&&g.c(),n=v(),$&&$.c(),s=w(""),C(t,"class","link svelte-1sq436e")},m(i,c){f(i,t,c),g&&g.m(t,null),f(i,n,c),$&&$.m(i,c),f(i,s,c),l=!0,r||(o=b(t,"click",e[1]),r=!0)},p(e,[t]){d&&d.p&&(!l||4&t)&&a(d,c,e,e[2],l?u(c,e[2],t,ue):h(e[2]),ae),e[0]?$?($.p(e,t),1&t&&B($,1)):($=he(e),$.c(),B($,1),$.m(s.parentNode,s)):$&&(F(),I($,1,1,(()=>{$=null})),U())},i(e){l||(B(g,e),B($),l=!0)},o(e){I(g,e),I($),l=!1},d(e){e&&p(t),g&&g.d(e),e&&p(n),$&&$.d(e),e&&p(s),r=!1,o()}}}function fe(e,t,n){let{$$slots:s={},$$scope:l}=t,r=!1;return e.$$set=e=>{"$$scope"in e&&n(2,l=e.$$scope)},[r,function(){n(0,r=!r)},l,s]}class pe extends Q{constructor(e){super(),Y(this,e,fe,de,r,{})}}function ge(e){let t;return{c(){t=m("span"),t.textContent="Credits",C(t,"slot","linkText")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function me(e){let t;return{c(){t=m("span"),t.innerHTML='<h2>Credits/Copyright</h2> \n\n        <h3>This Website</h3> \n        <p>This website was created by Dan Corder. <a href="https://github.com/DanCorder/CrosswordCreator/" target="_blank">The source</a> is available under the <a href="https://github.com/DanCorder/CrosswordCreator/blob/main/LICENSE.txt" target="_blank">GPL3 licence</a> on Github so you can run your own version or make customisations.</p> \n\n        <h3>Word List</h3> \n        <p>The word list used by this site comes from <a href="http://app.aspell.net/create" target="_blank">http://app.aspell.net/create</a> and has the following notice:</p> \n        <pre>Copyright 2000-2019 by Kevin Atkinson\n\n    Permission to use, copy, modify, distribute and sell these word\n    lists, the associated scripts, the output created from the scripts,\n    and its documentation for any purpose is hereby granted without fee,\n    provided that the above copyright notice appears in all copies and\n    that both that copyright notice and this permission notice appear in\n    supporting documentation. Kevin Atkinson makes no representations\n    about the suitability of this array for any purpose. It is provided\n    &quot;as is&quot; without express or implied warranty.\n\n    Copyright (c) J Ross Beresford 1993-1999. All Rights Reserved.\n\n    The following restriction is placed on the use of this publication:\n    if The UK Advanced Cryptics Dictionary is used in a software package\n    or redistributed in any form, the copyright notice must be\n    prominently displayed and the text of this document must be included\n    verbatim.\n\n    There are no other restrictions: I would like to see the list\n    distributed as widely as possible.\n\n    Special credit also goes to Alan Beale &lt;biljir@pobox.com&gt; as he has\n    given me an incredible amount of feedback and created a number of\n    special lists (those found in the Supplement) in order to help improve\n    the overall quality of SCOWL.\n\n    Many sources were used in the creation of SCOWL, most of them were in\n    the public domain or used indirectly.  For a full list please see the\n    SCOWL readme.\n\n    <a href="http://wordlist.aspell.net/" target="_blank">http://wordlist.aspell.net/</a></pre>',C(t,"slot","content")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function we(e){let t,n;return t=new pe({props:{$$slots:{content:[me],linkText:[ge]},$$scope:{ctx:e}}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}class ve extends Q{constructor(e){super(),Y(this,e,null,we,r,{})}}function be(e,t,n){const s=e.slice();return s[15]=t[n],s[16]=t,s[17]=n,s}function Ce(e,t,n){const s=e.slice();return s[18]=t[n],s[19]=t,s[20]=n,s}function $e(e){let t,n,s,l,r=(e[18].cellNumber??"")+"",o=!e[1]&&_e(e);return{c(){t=m("div"),n=m("div"),s=w(r),l=v(),o&&o.c(),C(n,"class","cell-number svelte-1m326md"),C(t,"class","cell-layout svelte-1m326md")},m(e,r){f(e,t,r),d(t,n),d(n,s),d(t,l),o&&o.m(t,null)},p(e,n){1&n&&r!==(r=(e[18].cellNumber??"")+"")&&$(s,r),e[1]?o&&(o.d(1),o=null):o?o.p(e,n):(o=_e(e),o.c(),o.m(t,null))},d(e){e&&p(t),o&&o.d()}}}function _e(e){let t,n,s=e[18].answerLetter+"";return{c(){t=m("div"),n=w(s),C(t,"class","cell-letter svelte-1m326md")},m(e,s){f(e,t,s),d(t,n)},p(e,t){1&t&&s!==(s=e[18].answerLetter+"")&&$(n,s)},d(e){e&&p(t)}}}function ye(e){let t,n,l,r,o=e[17],i=e[20],c=e[18].isWhite&&$e(e);function u(){return e[9](e[17],e[20])}function a(...t){return e[10](e[17],e[20],...t)}const h=()=>e[11](t,o,i),d=()=>e[11](null,o,i);return{c(){t=m("td"),c&&c.c(),C(t,"tabindex","0"),C(t,"class",n="cell "+(e[18].isWhite?"white":"black")+" svelte-1m326md")},m(e,n){f(e,t,n),c&&c.m(t,null),h(),l||(r=[b(t,"focus",u),b(t,"keydown",a)],l=!0)},p(s,l){(e=s)[18].isWhite?c?c.p(e,l):(c=$e(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null),1&l&&n!==(n="cell "+(e[18].isWhite?"white":"black")+" svelte-1m326md")&&C(t,"class",n),o===e[17]&&i===e[20]||(d(),o=e[17],i=e[20],h())},d(e){e&&p(t),c&&c.d(),d(),l=!1,s(r)}}}function xe(e){let t,n,s=e[15],l=[];for(let t=0;t<s.length;t+=1)l[t]=ye(Ce(e,s,t));return{c(){t=m("tr");for(let e=0;e<l.length;e+=1)l[e].c();n=v()},m(e,s){f(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);d(t,n)},p(e,r){if(55&r){let o;for(s=e[15],o=0;o<s.length;o+=1){const i=Ce(e,s,o);l[o]?l[o].p(i,r):(l[o]=ye(i),l[o].c(),l[o].m(t,n))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},d(e){e&&p(t),g(l,e)}}}function ke(t){let n,l,r,o,i,c,u,a,h,$,_,x,k,L,A,j,P,T,W,E,O,S,z,q,N,M,D,F,U,B=t[0].cells,I=[];for(let e=0;e<B.length;e+=1)I[e]=xe(be(t,B,e));return{c(){n=m("div"),l=m("p"),r=m("span"),o=w("Size: "),i=m("select"),c=m("option"),c.textContent="1",u=m("option"),u.textContent="2",a=m("option"),a.textContent="3",h=m("option"),h.textContent="4",$=m("option"),$.textContent="5",_=m("option"),_.textContent="6",x=m("option"),x.textContent="7",k=m("option"),k.textContent="8",L=m("option"),L.textContent="9",A=m("option"),A.textContent="10",j=m("option"),j.textContent="11",P=m("option"),P.textContent="12",T=m("option"),T.textContent="13",W=m("option"),W.textContent="14",E=m("option"),E.textContent="15",O=v(),S=m("span"),z=w("Hide answers: "),q=m("input"),N=v(),M=m("table"),D=m("tbody");for(let e=0;e<I.length;e+=1)I[e].c();c.__value=1,c.value=c.__value,u.__value=2,u.value=u.__value,a.__value=3,a.value=a.__value,h.__value=4,h.value=h.__value,$.__value=5,$.value=$.__value,_.__value=6,_.value=_.__value,x.__value=7,x.value=x.__value,k.__value=8,k.value=k.__value,L.__value=9,L.value=L.__value,A.__value=10,A.value=A.__value,j.__value=11,j.value=j.__value,P.__value=12,P.value=P.__value,T.__value=13,T.value=T.__value,W.__value=14,W.value=W.__value,E.__value=15,E.value=E.__value,void 0===t[3]&&G((()=>t[7].call(i))),C(r,"class","grid-setting svelte-1m326md"),C(q,"type","checkbox"),C(S,"class","grid-setting svelte-1m326md"),C(M,"class","grid svelte-1m326md")},m(e,s){f(e,n,s),d(n,l),d(l,r),d(r,o),d(r,i),d(i,c),d(i,u),d(i,a),d(i,h),d(i,$),d(i,_),d(i,x),d(i,k),d(i,L),d(i,A),d(i,j),d(i,P),d(i,T),d(i,W),d(i,E),y(i,t[3]),d(l,O),d(l,S),d(S,z),d(S,q),q.checked=t[1],d(n,N),d(n,M),d(M,D);for(let e=0;e<I.length;e+=1)I[e].m(D,null);F||(U=[b(i,"change",t[7]),b(i,"change",t[6]),b(q,"change",t[8])],F=!0)},p(e,[t]){if(8&t&&y(i,e[3]),2&t&&(q.checked=e[1]),55&t){let n;for(B=e[0].cells,n=0;n<B.length;n+=1){const s=be(e,B,n);I[n]?I[n].p(s,t):(I[n]=xe(s),I[n].c(),I[n].m(D,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=B.length}},i:e,o:e,d(e){e&&p(n),g(I,e),F=!1,s(U)}}}function Le(e,t,n){let s,{state:l}=t,r=!1,o=null,i=null,c=[];function u(e,t){o=e,i=t}function a(e,t,n){if(!n.metaKey&&!n.ctrlKey){switch(n.preventDefault(),n.key){case" ":oe.toggleCell(e,t);break;case"Backspace":case"Delete":oe.setCellLetter(e,t,"");break;case"ArrowUp":o=Math.max(0,o-1);break;case"ArrowDown":o=Math.min(l.size-1,o+1);break;case"ArrowLeft":i=Math.max(0,i-1);break;case"ArrowRight":i=Math.min(l.size-1,i+1);break;default:n.key.match(/^[a-z]$/i)&&oe.setCellLetter(e,t,n.key.toUpperCase())}c[o][i].focus()}}A((()=>{s!==c.length&&function(){for(let e=0;e<l.size;e++)c.push([])}()}));return e.$$set=e=>{"state"in e&&n(0,l=e.state)},e.$$.update=()=>{1&e.$$.dirty&&n(3,s=l.size)},[l,r,c,s,u,a,function(){oe.sizeGrid(s),o=Math.min(o,s-1),i=Math.min(i,s-1)},function(){s=x(this),n(3,s),n(0,l)},function(){r=this.checked,n(1,r)},(e,t)=>u(e,t),(e,t,n)=>a(e,t,n),function(e,t,s){P[e?"unshift":"push"]((()=>{c[t][s]=e,n(2,c)}))}]}class Ae extends Q{constructor(e){super(),Y(this,e,Le,ke,r,{state:0})}}const je=function(){let e=re(null);return fetch("assets/js/processedWordList.json").then((e=>e.json())).then((t=>{e.set(t)})),e}();class Pe{constructor(){this.matches=[]}findMatchingWords(e){if(this.matches=[],""===this.pattern)return this;const t=e[this.pattern.length],n=new RegExp(this.pattern.toLowerCase().replaceAll(".","\\w").replaceAll(" ","\\w"));return Object.keys(t).forEach((e=>{n.test(e)&&(this.matches=this.matches.concat(t[e]))})),this}}const Te=function(){const{subscribe:e,set:t,update:n}=re(new Pe);let s;return je.subscribe((e=>s=e)),{subscribe:e,set:t,findWords:()=>n((e=>e.findMatchingWords(s)))}}();function We(t){let n,s,l,r;return{c(){n=m("div"),s=m("a"),l=w(t[0]),C(s,"href",r=""+(Ee+t[0])),C(s,"target","_blank"),C(n,"class","svelte-2buty2")},m(e,t){f(e,n,t),d(n,s),d(s,l)},p(e,[t]){1&t&&$(l,e[0]),1&t&&r!==(r=""+(Ee+e[0]))&&C(s,"href",r)},i:e,o:e,d(e){e&&p(n)}}}const Ee="https://www.dictionary.com/browse/";function Oe(e,t,n){let{result:s}=t;return e.$$set=e=>{"result"in e&&n(0,s=e.result)},[s]}class Ge extends Q{constructor(e){super(),Y(this,e,Oe,We,r,{result:0})}}function Se(e,t,n){const s=e.slice();return s[4]=t[n],s}function ze(e){let t;return{c(){t=m("div"),t.textContent="No results",C(t,"class","no-results svelte-1oly632")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function qe(e){let t,n;return t=new Ge({props:{result:e[4]}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.result=e[4]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ne(e){let t,n,l,r,o,i,c,u,a,h,w,$,y,x=e[0].matches,k=[];for(let t=0;t<x.length;t+=1)k[t]=qe(Se(e,x,t));const L=e=>I(k[e],1,1,(()=>{k[e]=null}));let A=null;return x.length||(A=ze()),{c(){t=m("div"),n=m("h2"),n.textContent="Find Words That Fit",l=v(),r=m("p"),r.textContent="Enter the pattern to match below. Use letters where you have them and '.' or space for empty spaces",o=v(),i=m("input"),c=v(),u=m("button"),u.textContent="Search",a=v(),h=m("div");for(let e=0;e<k.length;e+=1)k[e].c();A&&A.c(),C(t,"class","content-block")},m(s,p){f(s,t,p),d(t,n),d(t,l),d(t,r),d(t,o),d(t,i),_(i,e[0].pattern),d(t,c),d(t,u),d(t,a),d(t,h);for(let e=0;e<k.length;e+=1)k[e].m(h,null);A&&A.m(h,null),w=!0,$||(y=[b(i,"input",e[3]),b(i,"keydown",e[2]),b(u,"click",e[1])],$=!0)},p(e,[t]){if(1&t&&i.value!==e[0].pattern&&_(i,e[0].pattern),1&t){let n;for(x=e[0].matches,n=0;n<x.length;n+=1){const s=Se(e,x,n);k[n]?(k[n].p(s,t),B(k[n],1)):(k[n]=qe(s),k[n].c(),B(k[n],1),k[n].m(h,null))}for(F(),n=x.length;n<k.length;n+=1)L(n);U(),x.length?A&&(A.d(1),A=null):A||(A=ze(),A.c(),A.m(h,null))}},i(e){if(!w){for(let e=0;e<x.length;e+=1)B(k[e]);w=!0}},o(e){k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)I(k[e]);w=!1},d(e){e&&p(t),g(k,e),A&&A.d(),$=!1,s(y)}}}function Me(e,t,n){let s;function l(){Te.findWords()}return o(e,Te,(e=>n(0,s=e))),[s,l,function(e){"Enter"===e.key&&l()},function(){s.pattern=this.value,Te.set(s)}]}class De extends Q{constructor(e){super(),Y(this,e,Me,Ne,r,{})}}class Fe{}function Ue(e,t,n=3,s=[],l=[],r=1e3,o=!0){let i;try{i=function(e,t){let n=e;for(const e of t)for(const t of e){const e=n.indexOf(t);if(-1===e)throw"Error! qq";n=n.slice(0,e)+n.slice(e+1)}return n}(e,l)}catch(e){return alert("Included words are not an anagram of input word"),[]}if(""===i)return alert("No letters left to anagram!"),[];const c=Ie(i),u=[];for(const i of function*(e){for(let t of function*(e){let t=[],n=[];for(let s=0;s<e;s++)t.push(0),n.push(1);const s=e-1;for(;;)if(yield t,t[s]===n[s]){let l=s-1;for(;t[l]===n[l];)l--;if(0===l)return;t[l]+=1;const r=n[l]+(t[l]===n[l]?1:0);for(l++;l<e;l++)t[l]=0,n[l]=r}else t[s]+=1}(e.length)){const n=[];for(let s=0;s<e.length;s++){const l=t[s];void 0===n[l]&&(n[l]=""),n[l]+=e[s]}yield n}}(c)){if(!i.every((e=>e.length>=n)))continue;let c=[],a=!0;for(let n=0;n<i.length;n++){const l=i[n];if(o&&1===l.length&&"a"!==l[0]&&"i"!==l[0]){a=!1;break}const r=t[l.length].find((e=>e.letters===l));if(void 0===r){a=!1;break}const u=r.words.filter((t=>t!==e&&-1===s.indexOf(t)));if(0===u.length){a=!1;break}c.push(u)}if(a){for(const e of l)c=c.concat([[e]]);c.sort(Be);let e=!1;for(let t=0;t<u.length;t++){const n=u[t];if(n.length!==c.length)continue;let s=!0;for(let e=0;e<n.length;e++)if(n[e][0]!==c[e][0]){s=!1;break}if(s){e=!0;break}}e||u.push(c)}if(u.length>=r)break}return u}function Be(e,t){return t[0].length!==e[0].length?t[0].length-e[0].length:t[0]>e[0]?-1:1}function Ie(e){return e.split("").sort().join("")}function Re(e,t,n){const s=e.slice();return s[1]=t[n],s}function He(e,t,n){const s=e.slice();return s[4]=t[n],s}function Ke(e){let t,n,s,l,r=e[4]+"";return{c(){t=m("li"),n=m("a"),s=w(r),C(n,"href",l=""+(Qe+e[4])),C(n,"target","_blank")},m(e,l){f(e,t,l),d(t,n),d(n,s)},p(e,t){1&t&&r!==(r=e[4]+"")&&$(s,r),1&t&&l!==(l=""+(Qe+e[4]))&&C(n,"href",l)},d(e){e&&p(t)}}}function Je(e){let t,n,s=e[1],l=[];for(let t=0;t<s.length;t+=1)l[t]=Ke(He(e,s,t));return{c(){t=m("ul");for(let e=0;e<l.length;e+=1)l[e].c();n=v(),C(t,"class","svelte-2jyrs4")},m(e,s){f(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);d(t,n)},p(e,r){if(1&r){let o;for(s=e[1],o=0;o<s.length;o+=1){const i=He(e,s,o);l[o]?l[o].p(i,r):(l[o]=Ke(i),l[o].c(),l[o].m(t,n))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},d(e){e&&p(t),g(l,e)}}}function Ye(t){let n,s=t[0],l=[];for(let e=0;e<s.length;e+=1)l[e]=Je(Re(t,s,e));return{c(){n=m("div");for(let e=0;e<l.length;e+=1)l[e].c();C(n,"class","svelte-2jyrs4")},m(e,t){f(e,n,t);for(let e=0;e<l.length;e+=1)l[e].m(n,null)},p(e,[t]){if(1&t){let r;for(s=e[0],r=0;r<s.length;r+=1){const o=Re(e,s,r);l[r]?l[r].p(o,t):(l[r]=Je(o),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},i:e,o:e,d(e){e&&p(n),g(l,e)}}}const Qe="https://www.dictionary.com/browse/";function Ve(e,t,n){let{result:s}=t;return e.$$set=e=>{"result"in e&&n(0,s=e.result)},[s]}class Xe extends Q{constructor(e){super(),Y(this,e,Ve,Ye,r,{result:0})}}function Ze(e,t,n){const s=e.slice();return s[15]=t[n],s}function et(e){let t;return{c(){t=m("div"),t.textContent="No results",C(t,"class","no-results svelte-1oly632")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function tt(e){let t,n;return t=new Xe({props:{result:e[15]}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.result=e[15]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function nt(e){let t,n,l,r,o,i,c,u,a,h,$,x,k,L,A,j,P,T,W,E,O,S,z,q,N,M,D,R,H,K,J,Y,Q,V,X,Z,ee,te,ne,se,le,re,oe=e[2],ie=[];for(let t=0;t<oe.length;t+=1)ie[t]=tt(Ze(e,oe,t));const ce=e=>I(ie[e],1,1,(()=>{ie[e]=null}));let ue=null;return oe.length||(ue=et()),{c(){t=m("div"),n=m("h2"),n.textContent="Find Anagrams",l=v(),r=m("p"),o=m("input"),i=w("\n        Minimum word length\n        "),c=m("select"),u=m("option"),u.textContent="2",a=m("option"),a.textContent="3",h=m("option"),h.textContent="4",$=m("option"),$.textContent="5",x=m("option"),x.textContent="6",k=m("option"),k.textContent="7",L=m("option"),L.textContent="8",A=m("option"),A.textContent="9",j=m("option"),j.textContent="10",P=m("option"),P.textContent="11",T=m("option"),T.textContent="12",W=m("option"),W.textContent="13",E=m("option"),E.textContent="14",O=m("option"),O.textContent="15",S=v(),z=m("p"),q=m("button"),q.textContent="Find single words",N=w(" Find all single word anagrams within the input, not necessarily using all letters"),M=v(),D=m("p"),R=m("button"),R.textContent="Find full anagrams",H=w(" Find full multi-word anagrams (up to 1000 results)"),K=v(),J=m("p"),Y=m("textarea"),Q=w(" Excluded words (one per line)"),V=v(),X=m("p"),Z=m("textarea"),ee=w(" Included words (one per line)"),te=v(),ne=m("div");for(let e=0;e<ie.length;e+=1)ie[e].c();ue&&ue.c(),u.__value=2,u.value=u.__value,a.__value=3,a.value=a.__value,h.__value=4,h.value=h.__value,$.__value=5,$.value=$.__value,x.__value=6,x.value=x.__value,k.__value=7,k.value=k.__value,L.__value=8,L.value=L.__value,A.__value=9,A.value=A.__value,j.__value=10,j.value=j.__value,P.__value=11,P.value=P.__value,T.__value=12,T.value=T.__value,W.__value=13,W.value=W.__value,E.__value=14,E.value=E.__value,O.__value=15,O.value=O.__value,void 0===e[4]&&G((()=>e[9].call(c))),C(t,"class","content-block")},m(s,p){f(s,t,p),d(t,n),d(t,l),d(t,r),d(r,o),_(o,e[3]),d(r,i),d(r,c),d(c,u),d(c,a),d(c,h),d(c,$),d(c,x),d(c,k),d(c,L),d(c,A),d(c,j),d(c,P),d(c,T),d(c,W),d(c,E),d(c,O),y(c,e[4]),d(t,S),d(t,z),d(z,q),d(z,N),d(t,M),d(t,D),d(D,R),d(D,H),d(t,K),d(t,J),d(J,Y),_(Y,e[0]),d(J,Q),d(t,V),d(t,X),d(X,Z),_(Z,e[1]),d(X,ee),d(t,te),d(t,ne);for(let e=0;e<ie.length;e+=1)ie[e].m(ne,null);ue&&ue.m(ne,null),se=!0,le||(re=[b(o,"input",e[8]),b(o,"keydown",e[7]),b(c,"change",e[9]),b(q,"click",e[5]),b(R,"click",e[6]),b(Y,"input",e[10]),b(Z,"input",e[11])],le=!0)},p(e,[t]){if(8&t&&o.value!==e[3]&&_(o,e[3]),16&t&&y(c,e[4]),1&t&&_(Y,e[0]),2&t&&_(Z,e[1]),4&t){let n;for(oe=e[2],n=0;n<oe.length;n+=1){const s=Ze(e,oe,n);ie[n]?(ie[n].p(s,t),B(ie[n],1)):(ie[n]=tt(s),ie[n].c(),B(ie[n],1),ie[n].m(ne,null))}for(F(),n=oe.length;n<ie.length;n+=1)ce(n);U(),oe.length?ue&&(ue.d(1),ue=null):ue||(ue=et(),ue.c(),ue.m(ne,null))}},i(e){if(!se){for(let e=0;e<oe.length;e+=1)B(ie[e]);se=!0}},o(e){ie=ie.filter(Boolean);for(let e=0;e<ie.length;e+=1)I(ie[e]);se=!1},d(e){e&&p(t),g(ie,e),ue&&ue.d(),le=!1,s(re)}}}function st(e,t,n){let s=null;je.subscribe((e=>s=function(e){const t=new Fe;if(null===e)return t;for(let n=1;n<=15;n++){const s=e[n],l={};Object.keys(s).forEach((e=>{const t=Ie(e);l.hasOwnProperty(t)||(l[t]=[]),l[t].push(e)})),t[n]=Object.entries(l).sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})).map((e=>({letters:e[0],words:e[1].sort()})))}return t}(e)));let l,r,o=[],i="",c=3,u="",a="";function h(){s||alert("Word list not downloaded yet, please try again"),n(2,o=Ue(i,s,c,l,r))}return e.$$.update=()=>{1&e.$$.dirty&&(l=u.split("\n").filter((e=>""!==e))),2&e.$$.dirty&&(r=a.split("\n").filter((e=>""!==e)))},[u,a,o,i,c,function(){s||alert("Word list not downloaded yet, please try again"),n(2,o=function(e,t,n=3,s=[]){const l=Ie(e);let r=[];for(let e of function*(e){for(let t=1;t<1<<e.length;t++){let n="";for(let s=0;s<e.length;s++)t&1<<s&&(n+=e[s]);yield n}}(l)){if(e.length<n)continue;const s=t[e.length].find((t=>t.letters===e));void 0!==s&&(r=r.concat(s.words))}return r=[...new Set(r)],r.filter((t=>t!==e&&-1===s.indexOf(t))).map((e=>[[e]]))}(i,s,c,l))},h,function(e){"Enter"===e.key&&h()},function(){i=this.value,n(3,i)},function(){c=x(this),n(4,c)},function(){u=this.value,n(0,u)},function(){a=this.value,n(1,a)}]}class lt extends Q{constructor(e){super(),Y(this,e,st,nt,r,{})}}function rt(t){let n,s,l;return{c(){n=m("button"),n.textContent="Add to grid"},m(e,r){f(e,n,r),s||(l=b(n,"click",t[4]),s=!0)},p:e,d(e){e&&p(n),s=!1,l()}}}function ot(t){let n,s,l;return{c(){n=m("button"),n.textContent="Find possibilities"},m(e,r){f(e,n,r),s||(l=b(n,"click",t[5]),s=!0)},p:e,d(e){e&&p(n),s=!1,l()}}}function it(t){let n,l,r,o,i,c,u,a,h,g,y,x,k,L,A,j,P,T,W,E=t[0].answerPosition.number+"",O=ct(t[0]),G=t[0].answerPosition.letters+"",S=t[0].answerPosition.letters.split("").some(ut)&&t[0].answerPosition.letters.split("").some(at),z=O&&rt(t),q=S&&ot(t);return{c(){n=m("div"),l=m("div"),r=w(E),o=v(),i=m("textarea"),c=v(),u=m("div"),a=m("label"),h=w("Answer: "),g=m("input"),y=v(),z&&z.c(),x=v(),k=m("div"),L=m("span"),A=w("Grid letters: "),j=w(G),P=v(),q&&q.c(),C(i,"class","svelte-36xnsy"),C(l,"class","clue-row svelte-36xnsy"),C(g,"class","svelte-36xnsy"),C(u,"class","clue-row svelte-36xnsy"),C(k,"class","clue-row svelte-36xnsy"),C(n,"class","clue-container svelte-36xnsy")},m(e,s){f(e,n,s),d(n,l),d(l,r),d(l,o),d(l,i),_(i,t[0].clue),d(n,c),d(n,u),d(u,a),d(a,h),d(a,g),_(g,t[0].answer),d(u,y),z&&z.m(u,null),d(n,x),d(n,k),d(k,L),d(L,A),d(L,j),d(k,P),q&&q.m(k,null),T||(W=[b(i,"input",t[2]),b(i,"blur",oe.refresh),b(g,"input",t[3]),b(g,"blur",oe.refresh)],T=!0)},p(e,[t]){1&t&&E!==(E=e[0].answerPosition.number+"")&&$(r,E),1&t&&_(i,e[0].clue),1&t&&g.value!==e[0].answer&&_(g,e[0].answer),1&t&&(O=ct(e[0])),O?z?z.p(e,t):(z=rt(e),z.c(),z.m(u,null)):z&&(z.d(1),z=null),1&t&&G!==(G=e[0].answerPosition.letters+"")&&$(j,G),1&t&&(S=e[0].answerPosition.letters.split("").some(ut)&&e[0].answerPosition.letters.split("").some(at)),S?q?q.p(e,t):(q=ot(e),q.c(),q.m(k,null)):q&&(q.d(1),q=null)},i:e,o:e,d(e){e&&p(n),z&&z.d(),q&&q.d(),T=!1,s(W)}}}function ct(e){return e.answerPosition.letters.toLowerCase()!==e.strippedAnswer.toLowerCase()&&e.answerPosition.matchesAnswer(e.strippedAnswer)}const ut=e=>"_"===e,at=e=>"_"!==e;function ht(e,t,n){let s;o(e,Te,(e=>n(1,s=e)));let{state:l}=t;return e.$$set=e=>{"state"in e&&n(0,l=e.state)},[l,s,function(){l.clue=this.value,n(0,l)},function(){l.answer=this.value,n(0,l)},()=>oe.setGridLetters(l.answerPosition.row,l.answerPosition.column,l.answerPosition.direction,l.strippedAnswer),()=>{var e,t;e=Te,s.pattern=l.answerPosition.letters.replaceAll(V,"."),t=s,e.set(t),Te.findWords()}]}class dt extends Q{constructor(e){super(),Y(this,e,ht,it,r,{state:0})}}function ft(e,t,n){const s=e.slice();return s[7]=t[n],s}function pt(e){let t,n,s,l,r,o=e[7].number+"",i="a"===e[7].direction?"across":"down";return{c(){t=m("option"),n=w(o),s=v(),l=w(i),t.__value=r=e[7],t.value=t.__value},m(e,r){f(e,t,r),d(t,n),d(t,s),d(t,l)},p(e,s){1&s&&o!==(o=e[7].number+"")&&$(n,o),1&s&&i!==(i="a"===e[7].direction?"across":"down")&&$(l,i),1&s&&r!==(r=e[7])&&(t.__value=r,t.value=t.__value)},d(e){e&&p(t)}}}function gt(t){let n,l,r,o,i,c,u,a,h,$,x,k,L,A,j,P,T,W,E,O=t[0].possiblePositions,S=[];for(let e=0;e<O.length;e+=1)S[e]=pt(ft(t,O,e));return{c(){n=m("div"),l=m("div"),r=w("? "),o=m("textarea"),i=v(),c=m("div"),u=m("label"),a=w("Answer: "),h=m("input"),$=v(),x=m("div"),k=m("span"),L=w("Assign to:\n            "),A=m("select"),j=m("option"),j.textContent="--------";for(let e=0;e<S.length;e+=1)S[e].c();P=v(),T=m("button"),T.textContent="Delete",C(o,"class","svelte-36xnsy"),C(l,"class","clue-row svelte-36xnsy"),C(h,"class","svelte-36xnsy"),C(c,"class","clue-row svelte-36xnsy"),j.__value=null,j.value=j.__value,void 0===t[1]&&G((()=>t[6].call(A))),C(x,"class","clue-row svelte-36xnsy"),C(n,"class","clue-container svelte-36xnsy")},m(e,s){f(e,n,s),d(n,l),d(l,r),d(l,o),_(o,t[0].clue),d(n,i),d(n,c),d(c,u),d(u,a),d(u,h),_(h,t[0].answer),d(n,$),d(n,x),d(x,k),d(k,L),d(k,A),d(A,j);for(let e=0;e<S.length;e+=1)S[e].m(A,null);y(A,t[1]),d(x,P),d(x,T),W||(E=[b(o,"input",t[4]),b(o,"blur",oe.refresh),b(h,"input",t[5]),b(h,"blur",oe.refresh),b(A,"change",t[6]),b(A,"change",t[2]),b(T,"click",t[3])],W=!0)},p(e,[t]){if(1&t&&_(o,e[0].clue),1&t&&h.value!==e[0].answer&&_(h,e[0].answer),1&t){let n;for(O=e[0].possiblePositions,n=0;n<O.length;n+=1){const s=ft(e,O,n);S[n]?S[n].p(s,t):(S[n]=pt(s),S[n].c(),S[n].m(A,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=O.length}3&t&&y(A,e[1])},i:e,o:e,d(e){e&&p(n),g(S,e),W=!1,s(E)}}}function mt(e,t,n){let s,{state:l}=t;return e.$$set=e=>{"state"in e&&n(0,l=e.state)},[l,s,function(){oe.assignClue(s,l),n(1,s=null)},function(){oe.deleteClue(l)},function(){l.clue=this.value,n(0,l)},function(){l.answer=this.value,n(0,l)},function(){s=x(this),n(1,s),n(0,l)}]}class wt extends Q{constructor(e){super(),Y(this,e,mt,gt,r,{state:0})}}function vt(e,t,n){const s=e.slice();return s[1]=t[n],s}function bt(e,t,n){const s=e.slice();return s[1]=t[n],s}function Ct(e,t,n){const s=e.slice();return s[1]=t[n],s}function $t(e){let t,n;return t=new dt({props:{state:e[1]}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.state=e[1]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function _t(e){let t,n;return t=new dt({props:{state:e[1]}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.state=e[1]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function yt(e){let t,n,s,l,r=e[0].unassignedClues,o=[];for(let t=0;t<r.length;t+=1)o[t]=xt(vt(e,r,t));const i=e=>I(o[e],1,1,(()=>{o[e]=null}));return{c(){t=m("div"),n=m("h3"),n.textContent="Unassigned",s=v();for(let e=0;e<o.length;e+=1)o[e].c();C(n,"class","svelte-em5v8c")},m(e,r){f(e,t,r),d(t,n),d(t,s);for(let e=0;e<o.length;e+=1)o[e].m(t,null);l=!0},p(e,n){if(1&n){let s;for(r=e[0].unassignedClues,s=0;s<r.length;s+=1){const l=vt(e,r,s);o[s]?(o[s].p(l,n),B(o[s],1)):(o[s]=xt(l),o[s].c(),B(o[s],1),o[s].m(t,null))}for(F(),s=r.length;s<o.length;s+=1)i(s);U()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)B(o[e]);l=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)I(o[e]);l=!1},d(e){e&&p(t),g(o,e)}}}function xt(e){let t,n;return t=new wt({props:{state:e[1]}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.state=e[1]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function kt(e){let t,n,s,l,r,o,i,c,u,a,h,w,b,$=e[0].acrossClues,_=[];for(let t=0;t<$.length;t+=1)_[t]=$t(Ct(e,$,t));const y=e=>I(_[e],1,1,(()=>{_[e]=null}));let x=e[0].downClues,k=[];for(let t=0;t<x.length;t+=1)k[t]=_t(bt(e,x,t));const L=e=>I(k[e],1,1,(()=>{k[e]=null}));let A=e[0].unassignedClues.length>0&&yt(e);return{c(){t=m("div"),n=m("h2"),n.textContent="Clues and Answers",s=v(),l=m("div"),r=m("div"),o=m("h3"),o.textContent="Across",i=v();for(let e=0;e<_.length;e+=1)_[e].c();c=v(),u=m("div"),a=m("h3"),a.textContent="Down",h=v();for(let e=0;e<k.length;e+=1)k[e].c();w=v(),A&&A.c(),C(o,"class","svelte-em5v8c"),C(a,"class","svelte-em5v8c"),C(l,"class","column-container svelte-em5v8c"),C(t,"class","content-block")},m(e,p){f(e,t,p),d(t,n),d(t,s),d(t,l),d(l,r),d(r,o),d(r,i);for(let e=0;e<_.length;e+=1)_[e].m(r,null);d(l,c),d(l,u),d(u,a),d(u,h);for(let e=0;e<k.length;e+=1)k[e].m(u,null);d(l,w),A&&A.m(l,null),b=!0},p(e,[t]){if(1&t){let n;for($=e[0].acrossClues,n=0;n<$.length;n+=1){const s=Ct(e,$,n);_[n]?(_[n].p(s,t),B(_[n],1)):(_[n]=$t(s),_[n].c(),B(_[n],1),_[n].m(r,null))}for(F(),n=$.length;n<_.length;n+=1)y(n);U()}if(1&t){let n;for(x=e[0].downClues,n=0;n<x.length;n+=1){const s=bt(e,x,n);k[n]?(k[n].p(s,t),B(k[n],1)):(k[n]=_t(s),k[n].c(),B(k[n],1),k[n].m(u,null))}for(F(),n=x.length;n<k.length;n+=1)L(n);U()}e[0].unassignedClues.length>0?A?(A.p(e,t),1&t&&B(A,1)):(A=yt(e),A.c(),B(A,1),A.m(l,null)):A&&(F(),I(A,1,1,(()=>{A=null})),U())},i(e){if(!b){for(let e=0;e<$.length;e+=1)B(_[e]);for(let e=0;e<x.length;e+=1)B(k[e]);B(A),b=!0}},o(e){_=_.filter(Boolean);for(let e=0;e<_.length;e+=1)I(_[e]);k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)I(k[e]);I(A),b=!1},d(e){e&&p(t),g(_,e),g(k,e),A&&A.d()}}}function Lt(e,t,n){let{state:s}=t;return e.$$set=e=>{"state"in e&&n(0,s=e.state)},[s]}class At extends Q{constructor(e){super(),Y(this,e,Lt,kt,r,{state:0})}}function jt(e,t,n){const s=e.slice();return s[1]=t[n],s}function Pt(e,t,n){const s=e.slice();return s[1]=t[n],s}function Tt(e){let t,n,s,l,r,o,i,c=e[1].answerPosition.number+"",u=e[1].clue+"",a=(e[1].answerLength||"?")+"";return{c(){t=m("li"),n=w(c),s=w(". "),l=w(u),r=w(" ("),o=w(a),i=w(")")},m(e,c){f(e,t,c),d(t,n),d(t,s),d(t,l),d(t,r),d(t,o),d(t,i)},p(e,t){1&t&&c!==(c=e[1].answerPosition.number+"")&&$(n,c),1&t&&u!==(u=e[1].clue+"")&&$(l,u),1&t&&a!==(a=(e[1].answerLength||"?")+"")&&$(o,a)},d(e){e&&p(t)}}}function Wt(e){let t,n,s,l,r,o,i,c=e[1].answerPosition.number+"",u=e[1].clue+"",a=(e[1].answerLength||"?")+"";return{c(){t=m("li"),n=w(c),s=w(". "),l=w(u),r=w(" ("),o=w(a),i=w(")")},m(e,c){f(e,t,c),d(t,n),d(t,s),d(t,l),d(t,r),d(t,o),d(t,i)},p(e,t){1&t&&c!==(c=e[1].answerPosition.number+"")&&$(n,c),1&t&&u!==(u=e[1].clue+"")&&$(l,u),1&t&&a!==(a=(e[1].answerLength||"?")+"")&&$(o,a)},d(e){e&&p(t)}}}function Et(t){let n,s,l,r,o,i,c,u,a=t[0].acrossClues,h=[];for(let e=0;e<a.length;e+=1)h[e]=Tt(Pt(t,a,e));let w=t[0].downClues,b=[];for(let e=0;e<w.length;e+=1)b[e]=Wt(jt(t,w,e));return{c(){n=m("div"),s=m("h2"),s.textContent="Across",l=v(),r=m("ul");for(let e=0;e<h.length;e+=1)h[e].c();o=v(),i=m("h2"),i.textContent="Down",c=v(),u=m("ul");for(let e=0;e<b.length;e+=1)b[e].c();C(s,"class","svelte-1wfedpt"),C(r,"class","svelte-1wfedpt"),C(i,"class","svelte-1wfedpt"),C(u,"class","svelte-1wfedpt"),C(n,"class","clue-container svelte-1wfedpt")},m(e,t){f(e,n,t),d(n,s),d(n,l),d(n,r);for(let e=0;e<h.length;e+=1)h[e].m(r,null);d(n,o),d(n,i),d(n,c),d(n,u);for(let e=0;e<b.length;e+=1)b[e].m(u,null)},p(e,[t]){if(1&t){let n;for(a=e[0].acrossClues,n=0;n<a.length;n+=1){const s=Pt(e,a,n);h[n]?h[n].p(s,t):(h[n]=Tt(s),h[n].c(),h[n].m(r,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=a.length}if(1&t){let n;for(w=e[0].downClues,n=0;n<w.length;n+=1){const s=jt(e,w,n);b[n]?b[n].p(s,t):(b[n]=Wt(s),b[n].c(),b[n].m(u,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=w.length}},i:e,o:e,d(e){e&&p(n),g(h,e),g(b,e)}}}function Ot(e,t,n){let{clueState:s}=t;return e.$$set=e=>{"clueState"in e&&n(0,s=e.clueState)},[s]}class Gt extends Q{constructor(e){super(),Y(this,e,Ot,Et,r,{clueState:0})}}function St(e){let t;return{c(){t=m("span"),t.textContent="Help",C(t,"slot","linkText")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function zt(e){let t;return{c(){t=m("span"),t.innerHTML='<h2>Grid</h2> \n        <p>Click in the grid to select a cell. You can use the arrow keys to change the selected cell.<br/>\n        Type to enter letters and use space to toggle cells between black/white.<br/>\n        Clue numbers will update automatically.<br/>\n        The size dropdown will change the size of the grid up to a maximum of 15x15</p> \n\n        <h2>Clues and Answers</h2> \n        <p>Entries are automatically created for all answers in the grid.<br/>\n        If an answer is entered that doesn&#39;t fit that space in the grid, or the grid changes so the answer no longer fits,\n        the clue will be moved to the &quot;Unassigned&quot; section. Unassigned clues have a dropdown to assign them to any space in\n        grid where the answer will fit.</p> \n\n        <h2>Find Words That Fit</h2> \n        <p>This tool searches for words that are compatible with with one or more fixed letters</p> \n\n        <h2>Anagrams</h2> \n        <h3>Single Words</h3> \n        <p>This search will find single words that can be made using some or all of the given letters. This can be useful\n        for finding interesting words as the results don&#39;t contain any repetition.</p> \n        <h3>Full Anagrams</h3> \n        <p>This search returns sets of words using all of the given letters. The included and excluded word boxes can be\n        used to make sure that the search results do or don&#39;t contain specific words.<br/>\n        If a subset of letters can make multiple words then those words are grouped together into a single search result\n        e.g. &quot;actor&quot; contains a single result for &quot;cor/ocr/roc/orc&quot; + &quot;at/ta&quot; instead of eight results</p> \n\n        <h2>Dictionary</h2> \n        <p>The dictionary used on this site contains abbreviations and other strange words that you may not want to use.\n        Unfortunately finding a free, open source word list is tricky and this one seems overall pretty good. Please see\n        the credits page for more information on the word list.</p> \n\n        <h2>External Links</h2> \n        <p>Search result words are automatically linked to <a href="https://www.dictionary.com" target="_blank">www.dictionary.com</a>.\n        Note that no checks are made before creating the link, so it&#39;s possible that Dictionary.com won&#39;t actually have a\n        definition.</p> \n\n        <h2>Printing</h2> \n        <p>For now you can use the &quot;Hide answers&quot; checkbox on the grid to make it suitable for printing. A better solution\n        is in the works.</p> \n\n        <h2>Development</h2> \n        <p>This site is still under development so things may break from time to time please feel free to raise an \n        <a href="https://github.com/DanCorder/CrosswordCreator/issues" target="_blank">issue on github</a>.\n        If you have a great idea for a feature, or comments on the existing features you can also raise an issue.\n        The <a href="https://github.com/DanCorder/CrosswordCreator" target="_blank">readme</a> for this project \n        includes a list possible future features if you&#39;re interested.</p>',C(t,"slot","content")},m(e,n){f(e,t,n)},d(e){e&&p(t)}}}function qt(e){let t,n;return t=new pe({props:{$$slots:{content:[zt],linkText:[St]},$$scope:{ctx:e}}}),{c(){R(t.$$.fragment)},m(e,s){H(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}class Nt extends Q{constructor(e){super(),Y(this,e,null,qt,r,{})}}function Mt(e){let t,n,l,r,o,i,c,u,a,h,g,$,_,y,x,k,L,A,j,P,T,W,E,O,G,S,z,q,N,M,D,F,U,J,Y,Q,V;return a=new Nt({}),g=new ve({}),T=new Ae({props:{state:e[0].grid}}),G=new Gt({props:{clueState:e[0].clues}}),z=new De({}),F=new At({props:{state:e[0].clues}}),J=new lt({}),{c(){t=m("div"),n=m("div"),n.innerHTML="<h1>Under Construction</h1>\n        This site is still under active development so saved files may become incompatible without warning. Use this at your own risk.<br/>",l=v(),r=m("div"),o=m("h1"),o.textContent="Cryptic Crossword Creator",i=v(),c=m("div"),u=m("div"),R(a.$$.fragment),h=v(),R(g.$$.fragment),$=v(),_=m("div"),y=m("button"),y.textContent="Save",x=w("\n                Load "),k=m("input"),L=v(),A=m("div"),j=m("div"),P=m("div"),R(T.$$.fragment),W=v(),E=m("br"),O=v(),R(G.$$.fragment),S=v(),R(z.$$.fragment),q=v(),N=m("div"),N.innerHTML='<h2>External Tools</h2> \n                <ul><li><a href="https://www.wordplays.com/anagrammer" target="_blank">Anagrams</a></li> \n                    <li><a href="https://www.dictionary.com/" target="_blank">Free dictionary</a></li> \n                    <li><a href="https://www.thesaurus.com/" target="_blank">Free thesaurus</a></li> \n                    <li><a href="https://puzzling.stackexchange.com/questions/45984/cryptic-clue-guide" target="_blank">Different clue types 1</a></li> \n                    <li><a href="https://en.wikipedia.org/wiki/Cryptic_crossword#Types_of_cryptic_clues" target="_blank">Different clue types 2</a></li> \n                    <li><a href="https://en.wikipedia.org/wiki/Crossword_abbreviations" target="_blank">Clues for letters</a></li></ul>',M=v(),D=m("div"),R(F.$$.fragment),U=v(),R(J.$$.fragment),C(n,"class","content-block"),C(o,"class","svelte-nxjjr1"),C(u,"class","svelte-nxjjr1"),C(k,"type","file"),C(k,"id","file-selector"),C(_,"class","svelte-nxjjr1"),C(c,"class","header-links svelte-nxjjr1"),C(r,"class","content-block header svelte-nxjjr1"),C(P,"class","content-block grid-and-clues"),C(N,"class","content-block"),C(j,"class","left-column svelte-nxjjr1"),C(D,"class","right-column svelte-nxjjr1"),C(A,"class","tools svelte-nxjjr1"),C(t,"class","main")},m(s,p){f(s,t,p),d(t,n),d(t,l),d(t,r),d(r,o),d(r,i),d(r,c),d(c,u),H(a,u,null),d(u,h),H(g,u,null),d(c,$),d(c,_),d(_,y),d(_,x),d(_,k),d(t,L),d(t,A),d(A,j),d(j,P),H(T,P,null),d(P,W),d(P,E),d(P,O),H(G,P,null),d(j,S),H(z,j,null),d(j,q),d(j,N),d(A,M),d(A,D),H(F,D,null),d(D,U),H(J,D,null),Y=!0,Q||(V=[b(y,"click",e[1]),b(k,"change",e[2])],Q=!0)},p(e,[t]){const n={};1&t&&(n.state=e[0].grid),T.$set(n);const s={};1&t&&(s.clueState=e[0].clues),G.$set(s);const l={};1&t&&(l.state=e[0].clues),F.$set(l)},i(e){Y||(B(a.$$.fragment,e),B(g.$$.fragment,e),B(T.$$.fragment,e),B(G.$$.fragment,e),B(z.$$.fragment,e),B(F.$$.fragment,e),B(J.$$.fragment,e),Y=!0)},o(e){I(a.$$.fragment,e),I(g.$$.fragment,e),I(T.$$.fragment,e),I(G.$$.fragment,e),I(z.$$.fragment,e),I(F.$$.fragment,e),I(J.$$.fragment,e),Y=!1},d(e){e&&p(t),K(a),K(g),K(T),K(G),K(z),K(F),K(J),Q=!1,s(V)}}}function Dt(e,t,n){let s;return o(e,oe,(e=>n(0,s=e))),[s,function(){const e="crossword.json",t=s.serialize(),n=new Blob([t],{type:"application/json;charset=utf-8;"});if(window.navigator&&window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,e);else{const t=window.document.createElement("a");t.style.display="none",t.href=window.URL.createObjectURL(n),t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}},function(e){e.target.files[0].text().then((e=>{oe.set(new se(e))})).catch((e=>alert("Upload failed: "+e)))}]}return new class extends Q{constructor(e){super(),Y(this,e,Dt,Mt,r,{})}}({target:document.body})}();
